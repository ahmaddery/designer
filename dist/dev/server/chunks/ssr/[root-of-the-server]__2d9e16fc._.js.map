{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/AsusTuf/Desktop/canvas/erd-designer/src/types/index.ts"],"sourcesContent":["// Types for ERD Designer\r\n\r\nexport type DataType = \r\n  | 'VARCHAR' \r\n  | 'INT' \r\n  | 'BIGINT' \r\n  | 'SMALLINT'\r\n  | 'DECIMAL' \r\n  | 'NUMERIC' \r\n  | 'FLOAT' \r\n  | 'DOUBLE'\r\n  | 'BOOLEAN' \r\n  | 'DATE' \r\n  | 'TIME' \r\n  | 'DATETIME' \r\n  | 'TIMESTAMP' \r\n  | 'TEXT' \r\n  | 'BLOB' \r\n  | 'JSON' \r\n  | 'UUID';\r\n\r\nexport interface Column {\r\n  id: string;\r\n  name: string;\r\n  dataType: DataType;\r\n  length?: number;\r\n  precision?: number;\r\n  scale?: number;\r\n  nullable: boolean;\r\n  defaultValue?: string;\r\n  isPrimaryKey: boolean;\r\n  isForeignKey: boolean;\r\n  isUnique: boolean;\r\n  isAutoIncrement: boolean;\r\n  comment?: string;\r\n}\r\n\r\nexport interface Table {\r\n  id: string;\r\n  name: string;\r\n  comment?: string;\r\n  columns: Column[];\r\n  color: string;\r\n  position: {\r\n    x: number;\r\n    y: number;\r\n  };\r\n}\r\n\r\nexport type RelationType = 'ONE_TO_ONE' | 'ONE_TO_MANY' | 'MANY_TO_MANY';\r\n\r\nexport interface Relation {\r\n  id: string;\r\n  name?: string;\r\n  type: RelationType;\r\n  sourceTableId: string;\r\n  sourceColumnId: string;\r\n  targetTableId: string;\r\n  targetColumnId: string;\r\n  onDelete?: 'CASCADE' | 'SET_NULL' | 'RESTRICT' | 'NO_ACTION';\r\n  onUpdate?: 'CASCADE' | 'SET_NULL' | 'RESTRICT' | 'NO_ACTION';\r\n}\r\n\r\nexport interface ERDState {\r\n  tables: Table[];\r\n  relations: Relation[];\r\n  selectedTableId: string | null;\r\n  selectedRelationId: string | null;\r\n  selectedColumnId: string | null;\r\n}\r\n\r\nexport const DATA_TYPES: { type: DataType; label: string; hasLength: boolean; hasPrecision: boolean }[] = [\r\n  { type: 'VARCHAR', label: 'VARCHAR', hasLength: true, hasPrecision: false },\r\n  { type: 'INT', label: 'INT', hasLength: false, hasPrecision: false },\r\n  { type: 'BIGINT', label: 'BIGINT', hasLength: false, hasPrecision: false },\r\n  { type: 'SMALLINT', label: 'SMALLINT', hasLength: false, hasPrecision: false },\r\n  { type: 'DECIMAL', label: 'DECIMAL', hasLength: false, hasPrecision: true },\r\n  { type: 'NUMERIC', label: 'NUMERIC', hasLength: false, hasPrecision: true },\r\n  { type: 'FLOAT', label: 'FLOAT', hasLength: false, hasPrecision: false },\r\n  { type: 'DOUBLE', label: 'DOUBLE', hasLength: false, hasPrecision: false },\r\n  { type: 'BOOLEAN', label: 'BOOLEAN', hasLength: false, hasPrecision: false },\r\n  { type: 'DATE', label: 'DATE', hasLength: false, hasPrecision: false },\r\n  { type: 'TIME', label: 'TIME', hasLength: false, hasPrecision: false },\r\n  { type: 'DATETIME', label: 'DATETIME', hasLength: false, hasPrecision: false },\r\n  { type: 'TIMESTAMP', label: 'TIMESTAMP', hasLength: false, hasPrecision: false },\r\n  { type: 'TEXT', label: 'TEXT', hasLength: false, hasPrecision: false },\r\n  { type: 'BLOB', label: 'BLOB', hasLength: false, hasPrecision: false },\r\n  { type: 'JSON', label: 'JSON', hasLength: false, hasPrecision: false },\r\n  { type: 'UUID', label: 'UUID', hasLength: false, hasPrecision: false },\r\n];\r\n\r\nexport const TABLE_COLORS = [\r\n  '#3B82F6', // Blue\r\n  '#10B981', // Emerald\r\n  '#F59E0B', // Amber\r\n  '#EF4444', // Red\r\n  '#8B5CF6', // Violet\r\n  '#EC4899', // Pink\r\n  '#06B6D4', // Cyan\r\n  '#84CC16', // Lime\r\n  '#F97316', // Orange\r\n  '#6366F1', // Indigo\r\n  '#14B8A6', // Teal\r\n  '#A855F7', // Purple\r\n];\r\n"],"names":[],"mappings":"AAAA,yBAAyB;;;;;;;AAuElB,MAAM,aAA6F;IACxG;QAAE,MAAM;QAAW,OAAO;QAAW,WAAW;QAAM,cAAc;IAAM;IAC1E;QAAE,MAAM;QAAO,OAAO;QAAO,WAAW;QAAO,cAAc;IAAM;IACnE;QAAE,MAAM;QAAU,OAAO;QAAU,WAAW;QAAO,cAAc;IAAM;IACzE;QAAE,MAAM;QAAY,OAAO;QAAY,WAAW;QAAO,cAAc;IAAM;IAC7E;QAAE,MAAM;QAAW,OAAO;QAAW,WAAW;QAAO,cAAc;IAAK;IAC1E;QAAE,MAAM;QAAW,OAAO;QAAW,WAAW;QAAO,cAAc;IAAK;IAC1E;QAAE,MAAM;QAAS,OAAO;QAAS,WAAW;QAAO,cAAc;IAAM;IACvE;QAAE,MAAM;QAAU,OAAO;QAAU,WAAW;QAAO,cAAc;IAAM;IACzE;QAAE,MAAM;QAAW,OAAO;QAAW,WAAW;QAAO,cAAc;IAAM;IAC3E;QAAE,MAAM;QAAQ,OAAO;QAAQ,WAAW;QAAO,cAAc;IAAM;IACrE;QAAE,MAAM;QAAQ,OAAO;QAAQ,WAAW;QAAO,cAAc;IAAM;IACrE;QAAE,MAAM;QAAY,OAAO;QAAY,WAAW;QAAO,cAAc;IAAM;IAC7E;QAAE,MAAM;QAAa,OAAO;QAAa,WAAW;QAAO,cAAc;IAAM;IAC/E;QAAE,MAAM;QAAQ,OAAO;QAAQ,WAAW;QAAO,cAAc;IAAM;IACrE;QAAE,MAAM;QAAQ,OAAO;QAAQ,WAAW;QAAO,cAAc;IAAM;IACrE;QAAE,MAAM;QAAQ,OAAO;QAAQ,WAAW;QAAO,cAAc;IAAM;IACrE;QAAE,MAAM;QAAQ,OAAO;QAAQ,WAAW;QAAO,cAAc;IAAM;CACtE;AAEM,MAAM,eAAe;IAC1B;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD"}},
    {"offset": {"line": 139, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/AsusTuf/Desktop/canvas/erd-designer/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\";\r\nimport { twMerge } from \"tailwind-merge\";\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs));\r\n}\r\n\r\nexport function generateId(): string {\r\n  return Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);\r\n}\r\n\r\nexport function generateTableName(existingTables: { name: string }[]): string {\r\n  let counter = 1;\r\n  let name = `Table_${counter}`;\r\n  \r\n  while (existingTables.some(t => t.name === name)) {\r\n    counter++;\r\n    name = `Table_${counter}`;\r\n  }\r\n  \r\n  return name;\r\n}\r\n\r\nexport function generateColumnName(existingColumns: { name: string }[]): string {\r\n  let counter = 1;\r\n  let name = `column_${counter}`;\r\n  \r\n  while (existingColumns.some(c => c.name === name)) {\r\n    counter++;\r\n    name = `column_${counter}`;\r\n  }\r\n  \r\n  return name;\r\n}\r\n\r\nexport function toSnakeCase(str: string): string {\r\n  return str\r\n    .replace(/[A-Z]/g, letter => `_${letter.toLowerCase()}`)\r\n    .replace(/^_/, '');\r\n}\r\n\r\nexport function toPascalCase(str: string): string {\r\n  return str\r\n    .replace(/[_\\s]+(.)?/g, (_, char) => (char ? char.toUpperCase() : ''))\r\n    .replace(/^./, char => char.toUpperCase());\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB;AAEO,SAAS;IACd,OAAO,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,SAAS,CAAC,GAAG,MAAM,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,SAAS,CAAC,GAAG;AAC/F;AAEO,SAAS,kBAAkB,cAAkC;IAClE,IAAI,UAAU;IACd,IAAI,OAAO,CAAC,MAAM,EAAE,SAAS;IAE7B,MAAO,eAAe,IAAI,CAAC,CAAA,IAAK,EAAE,IAAI,KAAK,MAAO;QAChD;QACA,OAAO,CAAC,MAAM,EAAE,SAAS;IAC3B;IAEA,OAAO;AACT;AAEO,SAAS,mBAAmB,eAAmC;IACpE,IAAI,UAAU;IACd,IAAI,OAAO,CAAC,OAAO,EAAE,SAAS;IAE9B,MAAO,gBAAgB,IAAI,CAAC,CAAA,IAAK,EAAE,IAAI,KAAK,MAAO;QACjD;QACA,OAAO,CAAC,OAAO,EAAE,SAAS;IAC5B;IAEA,OAAO;AACT;AAEO,SAAS,YAAY,GAAW;IACrC,OAAO,IACJ,OAAO,CAAC,UAAU,CAAA,SAAU,CAAC,CAAC,EAAE,OAAO,WAAW,IAAI,EACtD,OAAO,CAAC,MAAM;AACnB;AAEO,SAAS,aAAa,GAAW;IACtC,OAAO,IACJ,OAAO,CAAC,eAAe,CAAC,GAAG,OAAU,OAAO,KAAK,WAAW,KAAK,IACjE,OAAO,CAAC,MAAM,CAAA,OAAQ,KAAK,WAAW;AAC3C"}},
    {"offset": {"line": 191, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/AsusTuf/Desktop/canvas/erd-designer/src/store/erdStore.ts"],"sourcesContent":["import { create } from 'zustand';\r\nimport { persist } from 'zustand/middleware';\r\nimport { Table, Relation, Column, TABLE_COLORS } from '@/types';\r\nimport { generateId, generateTableName, generateColumnName } from '@/lib/utils';\r\n\r\ninterface ERDStoreState {\r\n  tables: Table[];\r\n  relations: Relation[];\r\n  selectedTableId: string | null;\r\n  selectedRelationId: string | null;\r\n  selectedColumnId: string | null;\r\n  \r\n  // Table actions\r\n  addTable: (position: { x: number; y: number }) => string;\r\n  updateTable: (tableId: string, updates: Partial<Table>) => void;\r\n  deleteTable: (tableId: string) => void;\r\n  duplicateTable: (tableId: string) => void;\r\n  moveTable: (tableId: string, position: { x: number; y: number }) => void;\r\n  \r\n  // Column actions\r\n  addColumn: (tableId: string) => string;\r\n  updateColumn: (tableId: string, columnId: string, updates: Partial<Column>) => void;\r\n  deleteColumn: (tableId: string, columnId: string) => void;\r\n  reorderColumns: (tableId: string, columnIds: string[]) => void;\r\n  \r\n  // Relation actions\r\n  addRelation: (relation: Omit<Relation, 'id'>) => string;\r\n  updateRelation: (relationId: string, updates: Partial<Relation>) => void;\r\n  deleteRelation: (relationId: string) => void;\r\n  \r\n  // Selection\r\n  selectTable: (tableId: string | null) => void;\r\n  selectRelation: (relationId: string | null) => void;\r\n  selectColumn: (tableId: string | null, columnId: string | null) => void;\r\n  clearSelection: () => void;\r\n  \r\n  // Import/Export\r\n  exportToJSON: () => string;\r\n  importFromJSON: (json: string) => void;\r\n  exportToSQL: () => string;\r\n  clearAll: () => void;\r\n}\r\n\r\nconst getRandomColor = () => TABLE_COLORS[Math.floor(Math.random() * TABLE_COLORS.length)];\r\n\r\nexport const useERDStore = create<ERDStoreState>()(\r\n  persist(\r\n    (set, get) => ({\r\n      tables: [],\r\n      relations: [],\r\n      selectedTableId: null,\r\n      selectedRelationId: null,\r\n      selectedColumnId: null,\r\n\r\n      addTable: (position) => {\r\n        const id = generateId();\r\n        const { tables } = get();\r\n        \r\n        const newTable: Table = {\r\n          id,\r\n          name: generateTableName(tables),\r\n          columns: [\r\n            {\r\n              id: generateId(),\r\n              name: 'id',\r\n              dataType: 'INT',\r\n              nullable: false,\r\n              isPrimaryKey: true,\r\n              isForeignKey: false,\r\n              isUnique: false,\r\n              isAutoIncrement: true,\r\n            },\r\n          ],\r\n          color: getRandomColor(),\r\n          position,\r\n        };\r\n\r\n        set({ tables: [...tables, newTable], selectedTableId: id });\r\n        return id;\r\n      },\r\n\r\n      updateTable: (tableId, updates) => {\r\n        set({\r\n          tables: get().tables.map((t) =>\r\n            t.id === tableId ? { ...t, ...updates } : t\r\n          ),\r\n        });\r\n      },\r\n\r\n      deleteTable: (tableId) => {\r\n        const { tables, relations, selectedTableId } = get();\r\n        \r\n        // Delete related relations\r\n        const remainingRelations = relations.filter(\r\n          (r) => r.sourceTableId !== tableId && r.targetTableId !== tableId\r\n        );\r\n        \r\n        set({\r\n          tables: tables.filter((t) => t.id !== tableId),\r\n          relations: remainingRelations,\r\n          selectedTableId: selectedTableId === tableId ? null : selectedTableId,\r\n        });\r\n      },\r\n\r\n      duplicateTable: (tableId) => {\r\n        const { tables } = get();\r\n        const table = tables.find((t) => t.id === tableId);\r\n        if (!table) return;\r\n\r\n        const newId = generateId();\r\n        const newTable: Table = {\r\n          ...table,\r\n          id: newId,\r\n          name: `${table.name}_copy`,\r\n          position: {\r\n            x: table.position.x + 50,\r\n            y: table.position.y + 50,\r\n          },\r\n          columns: table.columns.map((col) => ({\r\n            ...col,\r\n            id: generateId(),\r\n            isForeignKey: false,\r\n          })),\r\n        };\r\n\r\n        set({ tables: [...tables, newTable], selectedTableId: newId });\r\n      },\r\n\r\n      moveTable: (tableId, position) => {\r\n        set({\r\n          tables: get().tables.map((t) =>\r\n            t.id === tableId ? { ...t, position } : t\r\n          ),\r\n        });\r\n      },\r\n\r\n      addColumn: (tableId) => {\r\n        const { tables } = get();\r\n        const table = tables.find((t) => t.id === tableId);\r\n        if (!table) return '';\r\n\r\n        const newColumn: Column = {\r\n          id: generateId(),\r\n          name: generateColumnName(table.columns),\r\n          dataType: 'VARCHAR',\r\n          length: 255,\r\n          nullable: true,\r\n          isPrimaryKey: false,\r\n          isForeignKey: false,\r\n          isUnique: false,\r\n          isAutoIncrement: false,\r\n        };\r\n\r\n        set({\r\n          tables: tables.map((t) =>\r\n            t.id === tableId\r\n              ? { ...t, columns: [...t.columns, newColumn] }\r\n              : t\r\n          ),\r\n          selectedColumnId: newColumn.id,\r\n        });\r\n\r\n        return newColumn.id;\r\n      },\r\n\r\n      updateColumn: (tableId, columnId, updates) => {\r\n        set({\r\n          tables: get().tables.map((t) =>\r\n            t.id === tableId\r\n              ? {\r\n                  ...t,\r\n                  columns: t.columns.map((c) =>\r\n                    c.id === columnId ? { ...c, ...updates } : c\r\n                  ),\r\n                }\r\n              : t\r\n          ),\r\n        });\r\n      },\r\n\r\n      deleteColumn: (tableId, columnId) => {\r\n        const { tables, relations } = get();\r\n        const table = tables.find((t) => t.id === tableId);\r\n        if (!table || table.columns.length <= 1) return; // Keep at least one column\r\n\r\n        // Delete related relations\r\n        const remainingRelations = relations.filter(\r\n          (r) =>\r\n            !(\r\n              (r.sourceTableId === tableId && r.sourceColumnId === columnId) ||\r\n              (r.targetTableId === tableId && r.targetColumnId === columnId)\r\n            )\r\n        );\r\n\r\n        set({\r\n          tables: tables.map((t) =>\r\n            t.id === tableId\r\n              ? { ...t, columns: t.columns.filter((c) => c.id !== columnId) }\r\n              : t\r\n          ),\r\n          relations: remainingRelations,\r\n          selectedColumnId: null,\r\n        });\r\n      },\r\n\r\n      reorderColumns: (tableId, columnIds) => {\r\n        set({\r\n          tables: get().tables.map((t) => {\r\n            if (t.id !== tableId) return t;\r\n            \r\n            const columnMap = new Map(t.columns.map((c) => [c.id, c]));\r\n            return {\r\n              ...t,\r\n              columns: columnIds\r\n                .map((id) => columnMap.get(id))\r\n                .filter((c): c is Column => c !== undefined),\r\n            };\r\n          }),\r\n        });\r\n      },\r\n\r\n      addRelation: (relation) => {\r\n        const id = generateId();\r\n        set({ relations: [...get().relations, { ...relation, id }] });\r\n        return id;\r\n      },\r\n\r\n      updateRelation: (relationId, updates) => {\r\n        set({\r\n          relations: get().relations.map((r) =>\r\n            r.id === relationId ? { ...r, ...updates } : r\r\n          ),\r\n        });\r\n      },\r\n\r\n      deleteRelation: (relationId) => {\r\n        set({\r\n          relations: get().relations.filter((r) => r.id !== relationId),\r\n          selectedRelationId: null,\r\n        });\r\n      },\r\n\r\n      selectTable: (tableId) => {\r\n        set({\r\n          selectedTableId: tableId,\r\n          selectedRelationId: null,\r\n          selectedColumnId: null,\r\n        });\r\n      },\r\n\r\n      selectRelation: (relationId) => {\r\n        set({\r\n          selectedRelationId: relationId,\r\n          selectedTableId: null,\r\n          selectedColumnId: null,\r\n        });\r\n      },\r\n\r\n      selectColumn: (tableId, columnId) => {\r\n        set({\r\n          selectedTableId: tableId,\r\n          selectedColumnId: columnId,\r\n          selectedRelationId: null,\r\n        });\r\n      },\r\n\r\n      clearSelection: () => {\r\n        set({\r\n          selectedTableId: null,\r\n          selectedRelationId: null,\r\n          selectedColumnId: null,\r\n        });\r\n      },\r\n\r\n      exportToJSON: () => {\r\n        const { tables, relations } = get();\r\n        return JSON.stringify({ tables, relations }, null, 2);\r\n      },\r\n\r\n      importFromJSON: (json) => {\r\n        try {\r\n          const data = JSON.parse(json);\r\n          if (data.tables && Array.isArray(data.tables)) {\r\n            set({\r\n              tables: data.tables,\r\n              relations: data.relations || [],\r\n              selectedTableId: null,\r\n              selectedRelationId: null,\r\n              selectedColumnId: null,\r\n            });\r\n          }\r\n        } catch (error) {\r\n          console.error('Failed to import JSON:', error);\r\n          throw error;\r\n        }\r\n      },\r\n\r\n      exportToSQL: () => {\r\n        const { tables, relations } = get();\r\n        let sql = '-- Generated by ERD Designer\\n\\n';\r\n\r\n        // Generate CREATE TABLE statements\r\n        tables.forEach((table) => {\r\n          sql += `CREATE TABLE IF NOT EXISTS \\`${table.name}\\` (\\n`;\r\n          \r\n          const columnDefs = table.columns.map((col) => {\r\n            let def = `  \\`${col.name}\\` ${col.dataType}`;\r\n            \r\n            if (col.length) {\r\n              def += `(${col.length})`;\r\n            } else if (col.precision !== undefined && col.scale !== undefined) {\r\n              def += `(${col.precision},${col.scale})`;\r\n            }\r\n            \r\n            if (col.isPrimaryKey && col.isAutoIncrement) {\r\n              def += ' AUTO_INCREMENT';\r\n            }\r\n            \r\n            if (!col.nullable) {\r\n              def += ' NOT NULL';\r\n            }\r\n            \r\n            if (col.defaultValue !== undefined && col.defaultValue !== '') {\r\n              def += ` DEFAULT ${col.defaultValue}`;\r\n            }\r\n            \r\n            if (col.comment) {\r\n              def += ` COMMENT '${col.comment}'`;\r\n            }\r\n            \r\n            return def;\r\n          });\r\n\r\n          // Add primary key constraint\r\n          const pkColumns = table.columns\r\n            .filter((c) => c.isPrimaryKey)\r\n            .map((c) => `\\`${c.name}\\``);\r\n          \r\n          if (pkColumns.length > 0) {\r\n            columnDefs.push(`  PRIMARY KEY (${pkColumns.join(', ')})`);\r\n          }\r\n\r\n          // Add unique constraints\r\n          table.columns\r\n            .filter((c) => c.isUnique && !c.isPrimaryKey)\r\n            .forEach((col) => {\r\n              columnDefs.push(\r\n                `  UNIQUE KEY \\`uk_${table.name}_${col.name}\\` (\\`${col.name}\\`)`\r\n              );\r\n            });\r\n\r\n          sql += columnDefs.join(',\\n');\r\n          sql += '\\n';\r\n          \r\n          if (table.comment) {\r\n            sql += `) COMMENT='${table.comment}';\\n\\n`;\r\n          } else {\r\n            sql += ');\\n\\n';\r\n          }\r\n        });\r\n\r\n        // Generate foreign key constraints\r\n        relations.forEach((rel) => {\r\n          const sourceTable = tables.find((t) => t.id === rel.sourceTableId);\r\n          const targetTable = tables.find((t) => t.id === rel.targetTableId);\r\n          \r\n          if (sourceTable && targetTable) {\r\n            const sourceColumn = sourceTable.columns.find(\r\n              (c) => c.id === rel.sourceColumnId\r\n            );\r\n            const targetColumn = targetTable.columns.find(\r\n              (c) => c.id === rel.targetColumnId\r\n            );\r\n            \r\n            if (sourceColumn && targetColumn) {\r\n              sql += `ALTER TABLE \\`${sourceTable.name}\\` `;\r\n              sql += `ADD CONSTRAINT \\`fk_${sourceTable.name}_${sourceColumn.name}\\` `;\r\n              sql += `FOREIGN KEY (\\`${sourceColumn.name}\\`) `;\r\n              sql += `REFERENCES \\`${targetTable.name}\\`(\\`${targetColumn.name}\\`)`;\r\n              \r\n              if (rel.onDelete) {\r\n                sql += ` ON DELETE ${rel.onDelete.replace('_', ' ')}`;\r\n              }\r\n              if (rel.onUpdate) {\r\n                sql += ` ON UPDATE ${rel.onUpdate.replace('_', ' ')}`;\r\n              }\r\n              \r\n              sql += ';\\n';\r\n            }\r\n          }\r\n        });\r\n\r\n        return sql;\r\n      },\r\n\r\n      clearAll: () => {\r\n        set({\r\n          tables: [],\r\n          relations: [],\r\n          selectedTableId: null,\r\n          selectedRelationId: null,\r\n          selectedColumnId: null,\r\n        });\r\n      },\r\n    }),\r\n    {\r\n      name: 'erd-designer-storage',\r\n    }\r\n  )\r\n);\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 524, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/AsusTuf/Desktop/canvas/erd-designer/src/components/erd/TableNode.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { memo, useState, useCallback } from 'react';\r\nimport { Handle, Position, type NodeProps } from '@xyflow/react';\r\nimport { \r\n  Key, \r\n  Link2, \r\n  Hash, \r\n  MoreVertical,\r\n  Plus,\r\n  Trash2,\r\n  Copy,\r\n  Settings2\r\n} from 'lucide-react';\r\nimport { useERDStore } from '@/store/erdStore';\r\nimport { cn } from '@/lib/utils';\r\nimport { type Column, DATA_TYPES } from '@/types';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\n\r\ninterface TableNodeData extends Record<string, unknown> {\r\n  tableId: string;\r\n}\r\n\r\nconst getDataTypeColor = (dataType: string): string => {\r\n  const colors: Record<string, string> = {\r\n    VARCHAR: 'text-blue-400',\r\n    TEXT: 'text-blue-300',\r\n    INT: 'text-green-400',\r\n    BIGINT: 'text-green-300',\r\n    SMALLINT: 'text-green-300',\r\n    DECIMAL: 'text-yellow-400',\r\n    NUMERIC: 'text-yellow-400',\r\n    FLOAT: 'text-yellow-300',\r\n    DOUBLE: 'text-yellow-300',\r\n    BOOLEAN: 'text-purple-400',\r\n    DATE: 'text-pink-400',\r\n    TIME: 'text-pink-300',\r\n    DATETIME: 'text-pink-400',\r\n    TIMESTAMP: 'text-pink-500',\r\n    BLOB: 'text-gray-400',\r\n    JSON: 'text-orange-400',\r\n    UUID: 'text-cyan-400',\r\n  };\r\n  return colors[dataType] || 'text-gray-400';\r\n};\r\n\r\nconst ColumnRow = memo(function ColumnRow({\r\n  column,\r\n  tableId,\r\n  isSelected,\r\n  onSelect,\r\n  index,\r\n}: {\r\n  column: Column;\r\n  tableId: string;\r\n  isSelected: boolean;\r\n  onSelect: () => void;\r\n  index: number;\r\n}) {\r\n  const deleteColumn = useERDStore((state) => state.deleteColumn);\r\n  const selectedColumnId = useERDStore((state) => state.selectedColumnId);\r\n  \r\n  const isColumnSelected = selectedColumnId === column.id;\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, x: -10 }}\r\n      animate={{ opacity: 1, x: 0 }}\r\n      transition={{ delay: index * 0.03 }}\r\n      className={cn(\r\n        'group flex items-center gap-2 px-3 py-1.5 text-xs cursor-pointer transition-all duration-150',\r\n        'hover:bg-white/5',\r\n        isColumnSelected && 'bg-white/10 ring-1 ring-white/20'\r\n      )}\r\n      onClick={(e) => {\r\n        e.stopPropagation();\r\n        onSelect();\r\n      }}\r\n    >\r\n      {/* Primary Key / Foreign Key / Index Icons */}\r\n      <div className=\"flex items-center gap-1 w-5 shrink-0\">\r\n        {column.isPrimaryKey && (\r\n          <Key className=\"w-3.5 h-3.5 text-amber-400\" />\r\n        )}\r\n        {column.isForeignKey && !column.isPrimaryKey && (\r\n          <Link2 className=\"w-3.5 h-3.5 text-blue-400\" />\r\n        )}\r\n        {column.isUnique && !column.isPrimaryKey && (\r\n          <Hash className=\"w-3.5 h-3.5 text-purple-400\" />\r\n        )}\r\n      </div>\r\n\r\n      {/* Column Name */}\r\n      <span className={cn(\r\n        'flex-1 font-medium truncate',\r\n        column.isPrimaryKey ? 'text-amber-100' : 'text-slate-200'\r\n      )}>\r\n        {column.name}\r\n      </span>\r\n\r\n      {/* Data Type */}\r\n      <span className={cn('text-[10px] font-mono shrink-0', getDataTypeColor(column.dataType))}>\r\n        {column.dataType}\r\n        {column.length && `(${column.length})`}\r\n        {column.precision !== undefined && \r\n          `(${column.precision}${column.scale !== undefined ? `,${column.scale}` : ''})`}\r\n      </span>\r\n\r\n      {/* Nullable indicator */}\r\n      {!column.nullable && (\r\n        <span className=\"text-[9px] text-red-400 font-bold shrink-0\">*</span>\r\n      )}\r\n\r\n      {/* Delete button on hover */}\r\n      <button\r\n        onClick={(e) => {\r\n          e.stopPropagation();\r\n          deleteColumn(tableId, column.id);\r\n        }}\r\n        className=\"opacity-0 group-hover:opacity-100 p-1 rounded hover:bg-red-500/20 text-red-400 transition-all shrink-0\"\r\n      >\r\n        <Trash2 className=\"w-3 h-3\" />\r\n      </button>\r\n    </motion.div>\r\n  );\r\n});\r\n\r\nfunction TableNodeComponent({ data, selected }: NodeProps) {\r\n  const { tableId } = data as TableNodeData;\r\n  const [showMenu, setShowMenu] = useState(false);\r\n  \r\n  const table = useERDStore((state) => \r\n    state.tables.find((t) => t.id === tableId)\r\n  );\r\n  const selectedTableId = useERDStore((state) => state.selectedTableId);\r\n  const selectTable = useERDStore((state) => state.selectTable);\r\n  const selectColumn = useERDStore((state) => state.selectColumn);\r\n  const addColumn = useERDStore((state) => state.addColumn);\r\n  const duplicateTable = useERDStore((state) => state.duplicateTable);\r\n  const deleteTable = useERDStore((state) => state.deleteTable);\r\n  const updateTable = useERDStore((state) => state.updateTable);\r\n  \r\n  const isSelected = selectedTableId === tableId;\r\n\r\n  const handleAddColumn = useCallback((e: React.MouseEvent) => {\r\n    e.stopPropagation();\r\n    addColumn(tableId);\r\n  }, [addColumn, tableId]);\r\n\r\n  const handleDuplicate = useCallback((e: React.MouseEvent) => {\r\n    e.stopPropagation();\r\n    duplicateTable(tableId);\r\n    setShowMenu(false);\r\n  }, [duplicateTable, tableId]);\r\n\r\n  const handleDelete = useCallback((e: React.MouseEvent) => {\r\n    e.stopPropagation();\r\n    deleteTable(tableId);\r\n    setShowMenu(false);\r\n  }, [deleteTable, tableId]);\r\n\r\n  const handleColorChange = useCallback((color: string) => {\r\n    updateTable(tableId, { color });\r\n    setShowMenu(false);\r\n  }, [updateTable, tableId]);\r\n\r\n  if (!table) return null;\r\n\r\n  return (\r\n    <div\r\n      className={cn(\r\n        'relative rounded-xl overflow-hidden transition-all duration-200',\r\n        'bg-slate-900/95 backdrop-blur-sm border shadow-2xl',\r\n        isSelected \r\n          ? 'border-white/30 shadow-white/10 ring-2 ring-white/20' \r\n          : 'border-white/10 shadow-black/20',\r\n        'min-w-[240px] max-w-[320px]'\r\n      )}\r\n      style={{\r\n        boxShadow: isSelected \r\n          ? `0 0 0 1px ${table.color}40, 0 20px 40px -10px rgba(0,0,0,0.5)` \r\n          : '0 20px 40px -10px rgba(0,0,0,0.3)'\r\n      }}\r\n      onClick={() => selectTable(tableId)}\r\n    >\r\n      {/* Header */}\r\n      <div \r\n        className=\"relative px-4 py-3 flex items-center justify-between\"\r\n        style={{ \r\n          background: `linear-gradient(135deg, ${table.color}20 0%, ${table.color}10 100%)`,\r\n          borderBottom: `1px solid ${table.color}30`\r\n        }}\r\n      >\r\n        {/* Color indicator line */}\r\n        <div \r\n          className=\"absolute left-0 top-0 bottom-0 w-1\"\r\n          style={{ backgroundColor: table.color }}\r\n        />\r\n        \r\n        <div className=\"flex-1 min-w-0 ml-2\">\r\n          <h3 className=\"font-semibold text-sm text-white truncate\">\r\n            {table.name}\r\n          </h3>\r\n          {table.comment && (\r\n            <p className=\"text-[10px] text-slate-400 truncate\">{table.comment}</p>\r\n          )}\r\n        </div>\r\n\r\n        {/* Menu Button */}\r\n        <div className=\"relative\">\r\n          <button\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              setShowMenu(!showMenu);\r\n            }}\r\n            className=\"p-1.5 rounded-lg hover:bg-white/10 text-slate-400 hover:text-white transition-colors\"\r\n          >\r\n            <MoreVertical className=\"w-4 h-4\" />\r\n          </button>\r\n\r\n          {/* Dropdown Menu */}\r\n          <AnimatePresence>\r\n            {showMenu && (\r\n              <motion.div\r\n                initial={{ opacity: 0, scale: 0.95, y: -5 }}\r\n                animate={{ opacity: 1, scale: 1, y: 0 }}\r\n                exit={{ opacity: 0, scale: 0.95, y: -5 }}\r\n                className=\"absolute right-0 top-full mt-1 w-48 bg-slate-800 rounded-xl border border-white/10 shadow-2xl z-50 overflow-hidden\"\r\n              >\r\n                <button\r\n                  onClick={handleDuplicate}\r\n                  className=\"w-full px-3 py-2 flex items-center gap-2 text-xs text-slate-300 hover:bg-white/5 transition-colors\"\r\n                >\r\n                  <Copy className=\"w-3.5 h-3.5\" />\r\n                  Duplicate Table\r\n                </button>\r\n                \r\n                <div className=\"px-3 py-2 border-t border-white/5\">\r\n                  <span className=\"text-[10px] text-slate-500 uppercase tracking-wider\">Color</span>\r\n                  <div className=\"flex flex-wrap gap-1 mt-1.5\">\r\n                    {['#3B82F6', '#10B981', '#F59E0B', '#EF4444', '#8B5CF6', '#EC4899', '#06B6D4', '#84CC16'].map((color) => (\r\n                      <button\r\n                        key={color}\r\n                        onClick={() => handleColorChange(color)}\r\n                        className={cn(\r\n                          'w-5 h-5 rounded-full transition-transform hover:scale-110',\r\n                          table.color === color && 'ring-2 ring-white'\r\n                        )}\r\n                        style={{ backgroundColor: color }}\r\n                      />\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n\r\n                <button\r\n                  onClick={handleDelete}\r\n                  className=\"w-full px-3 py-2 flex items-center gap-2 text-xs text-red-400 hover:bg-red-500/10 transition-colors border-t border-white/5\"\r\n                >\r\n                  <Trash2 className=\"w-3.5 h-3.5\" />\r\n                  Delete Table\r\n                </button>\r\n              </motion.div>\r\n            )}\r\n          </AnimatePresence>\r\n        </div>\r\n\r\n        {/* Click outside to close menu */}\r\n        {showMenu && (\r\n          <div \r\n            className=\"fixed inset-0 z-40\" \r\n            onClick={() => setShowMenu(false)}\r\n          />\r\n        )}\r\n      </div>\r\n\r\n      {/* Columns */}\r\n      <div className=\"py-1 max-h-[300px] overflow-y-auto scrollbar-thin scrollbar-thumb-white/10 scrollbar-track-transparent\">\r\n        {table.columns.map((column, index) => (\r\n          <ColumnRow\r\n            key={column.id}\r\n            column={column}\r\n            tableId={tableId}\r\n            isSelected={isSelected}\r\n            onSelect={() => selectColumn(tableId, column.id)}\r\n            index={index}\r\n          />\r\n        ))}\r\n      </div>\r\n\r\n      {/* Add Column Button */}\r\n      <button\r\n        onClick={handleAddColumn}\r\n        className=\"w-full px-4 py-2 flex items-center justify-center gap-2 text-xs text-slate-400 hover:text-white hover:bg-white/5 transition-all border-t border-white/5\"\r\n      >\r\n        <Plus className=\"w-3.5 h-3.5\" />\r\n        Add Column\r\n      </button>\r\n\r\n      {/* Handles for connections */}\r\n      <Handle\r\n        type=\"source\"\r\n        position={Position.Top}\r\n        className=\"!w-3 !h-3 !bg-white/20 !border-2 !border-white/40 hover:!bg-blue-400 hover:!border-blue-400 transition-colors\"\r\n        style={{ top: -6 }}\r\n      />\r\n      <Handle\r\n        type=\"target\"\r\n        position={Position.Top}\r\n        className=\"!w-3 !h-3 !bg-white/20 !border-2 !border-white/40 hover:!bg-blue-400 hover:!border-blue-400 transition-colors\"\r\n        style={{ top: -6 }}\r\n      />\r\n      <Handle\r\n        type=\"source\"\r\n        position={Position.Right}\r\n        className=\"!w-3 !h-3 !bg-white/20 !border-2 !border-white/40 hover:!bg-blue-400 hover:!border-blue-400 transition-colors\"\r\n        style={{ right: -6 }}\r\n      />\r\n      <Handle\r\n        type=\"target\"\r\n        position={Position.Right}\r\n        className=\"!w-3 !h-3 !bg-white/20 !border-2 !border-white/40 hover:!bg-blue-400 hover:!border-blue-400 transition-colors\"\r\n        style={{ right: -6 }}\r\n      />\r\n      <Handle\r\n        type=\"source\"\r\n        position={Position.Bottom}\r\n        className=\"!w-3 !h-3 !bg-white/20 !border-2 !border-white/40 hover:!bg-blue-400 hover:!border-blue-400 transition-colors\"\r\n        style={{ bottom: -6 }}\r\n      />\r\n      <Handle\r\n        type=\"target\"\r\n        position={Position.Bottom}\r\n        className=\"!w-3 !h-3 !bg-white/20 !border-2 !border-white/40 hover:!bg-blue-400 hover:!border-blue-400 transition-colors\"\r\n        style={{ bottom: -6 }}\r\n      />\r\n      <Handle\r\n        type=\"source\"\r\n        position={Position.Left}\r\n        className=\"!w-3 !h-3 !bg-white/20 !border-2 !border-white/40 hover:!bg-blue-400 hover:!border-blue-400 transition-colors\"\r\n        style={{ left: -6 }}\r\n      />\r\n      <Handle\r\n        type=\"target\"\r\n        position={Position.Left}\r\n        className=\"!w-3 !h-3 !bg-white/20 !border-2 !border-white/40 hover:!bg-blue-400 hover:!border-blue-400 transition-colors\"\r\n        style={{ left: -6 }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default memo(TableNodeComponent);\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AAEA;AAAA;AAjBA;;;;;;;;AAuBA,MAAM,mBAAmB,CAAC;IACxB,MAAM,SAAiC;QACrC,SAAS;QACT,MAAM;QACN,KAAK;QACL,QAAQ;QACR,UAAU;QACV,SAAS;QACT,SAAS;QACT,OAAO;QACP,QAAQ;QACR,SAAS;QACT,MAAM;QACN,MAAM;QACN,UAAU;QACV,WAAW;QACX,MAAM;QACN,MAAM;QACN,MAAM;IACR;IACA,OAAO,MAAM,CAAC,SAAS,IAAI;AAC7B;AAEA,MAAM,0BAAY,IAAA,6MAAI,EAAC,SAAS,UAAU,EACxC,MAAM,EACN,OAAO,EACP,UAAU,EACV,QAAQ,EACR,KAAK,EAON;IACC,MAAM,eAAe,IAAA,uIAAW,EAAC,CAAC,QAAU,MAAM,YAAY;IAC9D,MAAM,mBAAmB,IAAA,uIAAW,EAAC,CAAC,QAAU,MAAM,gBAAgB;IAEtE,MAAM,mBAAmB,qBAAqB,OAAO,EAAE;IAEvD,qBACE,8OAAC,oMAAM,CAAC,GAAG;QACT,SAAS;YAAE,SAAS;YAAG,GAAG,CAAC;QAAG;QAC9B,SAAS;YAAE,SAAS;YAAG,GAAG;QAAE;QAC5B,YAAY;YAAE,OAAO,QAAQ;QAAK;QAClC,WAAW,IAAA,yHAAE,EACX,gGACA,oBACA,oBAAoB;QAEtB,SAAS,CAAC;YACR,EAAE,eAAe;YACjB;QACF;;0BAGA,8OAAC;gBAAI,WAAU;;oBACZ,OAAO,YAAY,kBAClB,8OAAC,uMAAG;wBAAC,WAAU;;;;;;oBAEhB,OAAO,YAAY,IAAI,CAAC,OAAO,YAAY,kBAC1C,8OAAC,iNAAK;wBAAC,WAAU;;;;;;oBAElB,OAAO,QAAQ,IAAI,CAAC,OAAO,YAAY,kBACtC,8OAAC,0MAAI;wBAAC,WAAU;;;;;;;;;;;;0BAKpB,8OAAC;gBAAK,WAAW,IAAA,yHAAE,EACjB,+BACA,OAAO,YAAY,GAAG,mBAAmB;0BAExC,OAAO,IAAI;;;;;;0BAId,8OAAC;gBAAK,WAAW,IAAA,yHAAE,EAAC,kCAAkC,iBAAiB,OAAO,QAAQ;;oBACnF,OAAO,QAAQ;oBACf,OAAO,MAAM,IAAI,CAAC,CAAC,EAAE,OAAO,MAAM,CAAC,CAAC,CAAC;oBACrC,OAAO,SAAS,KAAK,aACpB,CAAC,CAAC,EAAE,OAAO,SAAS,GAAG,OAAO,KAAK,KAAK,YAAY,CAAC,CAAC,EAAE,OAAO,KAAK,EAAE,GAAG,GAAG,CAAC,CAAC;;;;;;;YAIjF,CAAC,OAAO,QAAQ,kBACf,8OAAC;gBAAK,WAAU;0BAA6C;;;;;;0BAI/D,8OAAC;gBACC,SAAS,CAAC;oBACR,EAAE,eAAe;oBACjB,aAAa,SAAS,OAAO,EAAE;gBACjC;gBACA,WAAU;0BAEV,cAAA,8OAAC,oNAAM;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAI1B;AAEA,SAAS,mBAAmB,EAAE,IAAI,EAAE,QAAQ,EAAa;IACvD,MAAM,EAAE,OAAO,EAAE,GAAG;IACpB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IAEzC,MAAM,QAAQ,IAAA,uIAAW,EAAC,CAAC,QACzB,MAAM,MAAM,CAAC,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;IAEpC,MAAM,kBAAkB,IAAA,uIAAW,EAAC,CAAC,QAAU,MAAM,eAAe;IACpE,MAAM,cAAc,IAAA,uIAAW,EAAC,CAAC,QAAU,MAAM,WAAW;IAC5D,MAAM,eAAe,IAAA,uIAAW,EAAC,CAAC,QAAU,MAAM,YAAY;IAC9D,MAAM,YAAY,IAAA,uIAAW,EAAC,CAAC,QAAU,MAAM,SAAS;IACxD,MAAM,iBAAiB,IAAA,uIAAW,EAAC,CAAC,QAAU,MAAM,cAAc;IAClE,MAAM,cAAc,IAAA,uIAAW,EAAC,CAAC,QAAU,MAAM,WAAW;IAC5D,MAAM,cAAc,IAAA,uIAAW,EAAC,CAAC,QAAU,MAAM,WAAW;IAE5D,MAAM,aAAa,oBAAoB;IAEvC,MAAM,kBAAkB,IAAA,oNAAW,EAAC,CAAC;QACnC,EAAE,eAAe;QACjB,UAAU;IACZ,GAAG;QAAC;QAAW;KAAQ;IAEvB,MAAM,kBAAkB,IAAA,oNAAW,EAAC,CAAC;QACnC,EAAE,eAAe;QACjB,eAAe;QACf,YAAY;IACd,GAAG;QAAC;QAAgB;KAAQ;IAE5B,MAAM,eAAe,IAAA,oNAAW,EAAC,CAAC;QAChC,EAAE,eAAe;QACjB,YAAY;QACZ,YAAY;IACd,GAAG;QAAC;QAAa;KAAQ;IAEzB,MAAM,oBAAoB,IAAA,oNAAW,EAAC,CAAC;QACrC,YAAY,SAAS;YAAE;QAAM;QAC7B,YAAY;IACd,GAAG;QAAC;QAAa;KAAQ;IAEzB,IAAI,CAAC,OAAO,OAAO;IAEnB,qBACE,8OAAC;QACC,WAAW,IAAA,yHAAE,EACX,mEACA,sDACA,aACI,yDACA,mCACJ;QAEF,OAAO;YACL,WAAW,aACP,CAAC,UAAU,EAAE,MAAM,KAAK,CAAC,qCAAqC,CAAC,GAC/D;QACN;QACA,SAAS,IAAM,YAAY;;0BAG3B,8OAAC;gBACC,WAAU;gBACV,OAAO;oBACL,YAAY,CAAC,wBAAwB,EAAE,MAAM,KAAK,CAAC,OAAO,EAAE,MAAM,KAAK,CAAC,QAAQ,CAAC;oBACjF,cAAc,CAAC,UAAU,EAAE,MAAM,KAAK,CAAC,EAAE,CAAC;gBAC5C;;kCAGA,8OAAC;wBACC,WAAU;wBACV,OAAO;4BAAE,iBAAiB,MAAM,KAAK;wBAAC;;;;;;kCAGxC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CACX,MAAM,IAAI;;;;;;4BAEZ,MAAM,OAAO,kBACZ,8OAAC;gCAAE,WAAU;0CAAuC,MAAM,OAAO;;;;;;;;;;;;kCAKrE,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCACC,SAAS,CAAC;oCACR,EAAE,eAAe;oCACjB,YAAY,CAAC;gCACf;gCACA,WAAU;0CAEV,cAAA,8OAAC,0OAAY;oCAAC,WAAU;;;;;;;;;;;0CAI1B,8OAAC,4MAAe;0CACb,0BACC,8OAAC,oMAAM,CAAC,GAAG;oCACT,SAAS;wCAAE,SAAS;wCAAG,OAAO;wCAAM,GAAG,CAAC;oCAAE;oCAC1C,SAAS;wCAAE,SAAS;wCAAG,OAAO;wCAAG,GAAG;oCAAE;oCACtC,MAAM;wCAAE,SAAS;wCAAG,OAAO;wCAAM,GAAG,CAAC;oCAAE;oCACvC,WAAU;;sDAEV,8OAAC;4CACC,SAAS;4CACT,WAAU;;8DAEV,8OAAC,0MAAI;oDAAC,WAAU;;;;;;gDAAgB;;;;;;;sDAIlC,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAK,WAAU;8DAAsD;;;;;;8DACtE,8OAAC;oDAAI,WAAU;8DACZ;wDAAC;wDAAW;wDAAW;wDAAW;wDAAW;wDAAW;wDAAW;wDAAW;qDAAU,CAAC,GAAG,CAAC,CAAC,sBAC7F,8OAAC;4DAEC,SAAS,IAAM,kBAAkB;4DACjC,WAAW,IAAA,yHAAE,EACX,6DACA,MAAM,KAAK,KAAK,SAAS;4DAE3B,OAAO;gEAAE,iBAAiB;4DAAM;2DAN3B;;;;;;;;;;;;;;;;sDAYb,8OAAC;4CACC,SAAS;4CACT,WAAU;;8DAEV,8OAAC,oNAAM;oDAAC,WAAU;;;;;;gDAAgB;;;;;;;;;;;;;;;;;;;;;;;;oBAS3C,0BACC,8OAAC;wBACC,WAAU;wBACV,SAAS,IAAM,YAAY;;;;;;;;;;;;0BAMjC,8OAAC;gBAAI,WAAU;0BACZ,MAAM,OAAO,CAAC,GAAG,CAAC,CAAC,QAAQ,sBAC1B,8OAAC;wBAEC,QAAQ;wBACR,SAAS;wBACT,YAAY;wBACZ,UAAU,IAAM,aAAa,SAAS,OAAO,EAAE;wBAC/C,OAAO;uBALF,OAAO,EAAE;;;;;;;;;;0BAWpB,8OAAC;gBACC,SAAS;gBACT,WAAU;;kCAEV,8OAAC,0MAAI;wBAAC,WAAU;;;;;;oBAAgB;;;;;;;0BAKlC,8OAAC,mLAAM;gBACL,MAAK;gBACL,UAAU,sKAAQ,CAAC,GAAG;gBACtB,WAAU;gBACV,OAAO;oBAAE,KAAK,CAAC;gBAAE;;;;;;0BAEnB,8OAAC,mLAAM;gBACL,MAAK;gBACL,UAAU,sKAAQ,CAAC,GAAG;gBACtB,WAAU;gBACV,OAAO;oBAAE,KAAK,CAAC;gBAAE;;;;;;0BAEnB,8OAAC,mLAAM;gBACL,MAAK;gBACL,UAAU,sKAAQ,CAAC,KAAK;gBACxB,WAAU;gBACV,OAAO;oBAAE,OAAO,CAAC;gBAAE;;;;;;0BAErB,8OAAC,mLAAM;gBACL,MAAK;gBACL,UAAU,sKAAQ,CAAC,KAAK;gBACxB,WAAU;gBACV,OAAO;oBAAE,OAAO,CAAC;gBAAE;;;;;;0BAErB,8OAAC,mLAAM;gBACL,MAAK;gBACL,UAAU,sKAAQ,CAAC,MAAM;gBACzB,WAAU;gBACV,OAAO;oBAAE,QAAQ,CAAC;gBAAE;;;;;;0BAEtB,8OAAC,mLAAM;gBACL,MAAK;gBACL,UAAU,sKAAQ,CAAC,MAAM;gBACzB,WAAU;gBACV,OAAO;oBAAE,QAAQ,CAAC;gBAAE;;;;;;0BAEtB,8OAAC,mLAAM;gBACL,MAAK;gBACL,UAAU,sKAAQ,CAAC,IAAI;gBACvB,WAAU;gBACV,OAAO;oBAAE,MAAM,CAAC;gBAAE;;;;;;0BAEpB,8OAAC,mLAAM;gBACL,MAAK;gBACL,UAAU,sKAAQ,CAAC,IAAI;gBACvB,WAAU;gBACV,OAAO;oBAAE,MAAM,CAAC;gBAAE;;;;;;;;;;;;AAI1B;qDAEe,IAAA,6MAAI,EAAC"}},
    {"offset": {"line": 1067, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/AsusTuf/Desktop/canvas/erd-designer/src/components/erd/RelationEdge.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { memo, useState } from 'react';\r\nimport {\r\n  BaseEdge,\r\n  EdgeLabelRenderer,\r\n  EdgeProps,\r\n  getBezierPath,\r\n  useReactFlow,\r\n} from '@xyflow/react';\r\nimport { useERDStore } from '@/store/erdStore';\r\nimport { RelationType } from '@/types';\r\nimport { cn } from '@/lib/utils';\r\nimport { X, Settings2 } from 'lucide-react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\n\r\ninterface RelationEdgeData extends Record<string, unknown> {\r\n  relationId: string;\r\n  type: RelationType;\r\n  onDelete?: () => void;\r\n}\r\n\r\nconst getRelationSymbols = (type: RelationType) => {\r\n  switch (type) {\r\n    case 'ONE_TO_ONE':\r\n      return { source: '1', target: '1' };\r\n    case 'ONE_TO_MANY':\r\n      return { source: '1', target: '∞' };\r\n    case 'MANY_TO_MANY':\r\n      return { source: '∞', target: '∞' };\r\n    default:\r\n      return { source: '1', target: '*' };\r\n  }\r\n};\r\n\r\nconst getEdgeStyle = (type: RelationType, isSelected: boolean) => {\r\n  const baseStyle = {\r\n    strokeWidth: isSelected ? 3 : 2,\r\n    stroke: isSelected ? '#60A5FA' : '#94A3B8',\r\n  };\r\n\r\n  switch (type) {\r\n    case 'ONE_TO_ONE':\r\n      return { ...baseStyle, strokeDasharray: undefined };\r\n    case 'ONE_TO_MANY':\r\n      return { ...baseStyle, strokeDasharray: undefined };\r\n    case 'MANY_TO_MANY':\r\n      return { ...baseStyle, strokeDasharray: '8,4' };\r\n    default:\r\n      return baseStyle;\r\n  }\r\n};\r\n\r\nfunction RelationEdgeComponent({\r\n  id,\r\n  sourceX,\r\n  sourceY,\r\n  targetX,\r\n  targetY,\r\n  sourcePosition,\r\n  targetPosition,\r\n  data,\r\n  selected,\r\n}: EdgeProps) {\r\n  const { relationId, type = 'ONE_TO_MANY' } = (data || {}) as RelationEdgeData;\r\n  const [showControls, setShowControls] = useState(false);\r\n  \r\n  const selectedRelationId = useERDStore((state) => state.selectedRelationId);\r\n  const selectRelation = useERDStore((state) => state.selectRelation);\r\n  const deleteRelation = useERDStore((state) => state.deleteRelation);\r\n  const updateRelation = useERDStore((state) => state.updateRelation);\r\n  \r\n  const isSelected = selectedRelationId === relationId || selected;\r\n\r\n  const [edgePath, labelX, labelY] = getBezierPath({\r\n    sourceX,\r\n    sourceY,\r\n    sourcePosition,\r\n    targetX,\r\n    targetY,\r\n    targetPosition,\r\n    curvature: 0.3,\r\n  });\r\n\r\n  const symbols = getRelationSymbols(type);\r\n  const edgeStyle = getEdgeStyle(type, isSelected ?? false);\r\n\r\n  const handleDelete = () => {\r\n    if (relationId) {\r\n      deleteRelation(relationId);\r\n    }\r\n  };\r\n\r\n  const handleTypeChange = (newType: RelationType) => {\r\n    if (relationId) {\r\n      updateRelation(relationId, { type: newType });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <BaseEdge\r\n        path={edgePath}\r\n        style={edgeStyle}\r\n        className=\"transition-all duration-200\"\r\n      />\r\n      \r\n      {/* Relation symbols */}\r\n      <EdgeLabelRenderer>\r\n        {/* Source symbol */}\r\n        <div\r\n          style={{\r\n            position: 'absolute',\r\n            transform: `translate(-50%, -50%) translate(${sourceX}px, ${sourceY}px)`,\r\n            pointerEvents: 'none',\r\n          }}\r\n          className={cn(\r\n            'w-5 h-5 flex items-center justify-center rounded-full text-[10px] font-bold',\r\n            'bg-slate-800 border border-slate-600 text-slate-300'\r\n          )}\r\n        >\r\n          {symbols.source}\r\n        </div>\r\n\r\n        {/* Target symbol */}\r\n        <div\r\n          style={{\r\n            position: 'absolute',\r\n            transform: `translate(-50%, -50%) translate(${targetX}px, ${targetY}px)`,\r\n            pointerEvents: 'none',\r\n          }}\r\n          className={cn(\r\n            'w-5 h-5 flex items-center justify-center rounded-full text-[10px] font-bold',\r\n            'bg-slate-800 border border-slate-600 text-slate-300'\r\n          )}\r\n        >\r\n          {symbols.target}\r\n        </div>\r\n\r\n        {/* Label / Controls */}\r\n        <div\r\n          style={{\r\n            position: 'absolute',\r\n            transform: `translate(-50%, -50%) translate(${labelX}px, ${labelY}px)`,\r\n          }}\r\n          className=\"nodrag nopan\"\r\n          onMouseEnter={() => setShowControls(true)}\r\n          onMouseLeave={() => setShowControls(false)}\r\n        >\r\n          <AnimatePresence>\r\n            {showControls || isSelected ? (\r\n              <motion.div\r\n                initial={{ opacity: 0, scale: 0.9 }}\r\n                animate={{ opacity: 1, scale: 1 }}\r\n                exit={{ opacity: 0, scale: 0.9 }}\r\n                className={cn(\r\n                  'flex items-center gap-1 p-1 rounded-lg',\r\n                  'bg-slate-800 border border-slate-600 shadow-xl'\r\n                )}\r\n              >\r\n                {/* Type selector */}\r\n                <select\r\n                  value={type}\r\n                  onChange={(e) => handleTypeChange(e.target.value as RelationType)}\r\n                  onClick={(e) => e.stopPropagation()}\r\n                  className=\"text-[10px] bg-slate-700 text-slate-200 rounded px-1.5 py-0.5 border-none outline-none cursor-pointer\"\r\n                >\r\n                  <option value=\"ONE_TO_ONE\">1:1</option>\r\n                  <option value=\"ONE_TO_MANY\">1:N</option>\r\n                  <option value=\"MANY_TO_MANY\">N:N</option>\r\n                </select>\r\n\r\n                {/* Delete button */}\r\n                <button\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    handleDelete();\r\n                  }}\r\n                  className=\"p-1 rounded hover:bg-red-500/20 text-red-400 transition-colors\"\r\n                >\r\n                  <X className=\"w-3 h-3\" />\r\n                </button>\r\n              </motion.div>\r\n            ) : (\r\n              <motion.div\r\n                initial={{ opacity: 0 }}\r\n                animate={{ opacity: 1 }}\r\n                exit={{ opacity: 0 }}\r\n                className={cn(\r\n                  'px-2 py-0.5 rounded text-[10px] font-medium',\r\n                  'bg-slate-800/80 text-slate-400 border border-slate-700/50'\r\n                )}\r\n              >\r\n                {type === 'ONE_TO_ONE' && '1:1'}\r\n                {type === 'ONE_TO_MANY' && '1:N'}\r\n                {type === 'MANY_TO_MANY' && 'N:N'}\r\n              </motion.div>\r\n            )}\r\n          </AnimatePresence>\r\n        </div>\r\n      </EdgeLabelRenderer>\r\n\r\n      {/* Invisible wider edge for easier selection */}\r\n      <path\r\n        d={edgePath}\r\n        stroke=\"transparent\"\r\n        strokeWidth={20}\r\n        fill=\"none\"\r\n        className=\"cursor-pointer\"\r\n        onClick={() => relationId && selectRelation(relationId)}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default memo(RelationEdgeComponent);\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1347, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/AsusTuf/Desktop/canvas/erd-designer/src/components/erd/ERDCanvas.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useCallback, useRef, useEffect, useState } from 'react';\r\nimport {\r\n  ReactFlow,\r\n  Background,\r\n  BackgroundVariant,\r\n  Controls,\r\n  MiniMap,\r\n  useNodesState,\r\n  useEdgesState,\r\n  addEdge,\r\n  Connection,\r\n  ConnectionMode,\r\n  Panel,\r\n  useReactFlow,\r\n  ReactFlowProvider,\r\n  type Node,\r\n  type Edge,\r\n} from '@xyflow/react';\r\nimport '@xyflow/react/dist/style.css';\r\nimport { useERDStore } from '@/store/erdStore';\r\nimport { Table, Relation } from '@/types';\r\nimport TableNode from './TableNode';\r\nimport RelationEdge from './RelationEdge';\r\nimport { toPng } from 'html-to-image';\r\nimport { \r\n  Download, \r\n  FileJson, \r\n  FileCode, \r\n  Trash2, \r\n  Plus,\r\n  MousePointer2,\r\n  ZoomIn,\r\n  ZoomOut,\r\n  Maximize,\r\n  Grid3X3\r\n} from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\n\r\nconst nodeTypes: any = {\r\n  table: TableNode,\r\n};\r\n\r\nconst edgeTypes: any = {\r\n  relation: RelationEdge,\r\n};\r\n\r\ninterface TableNodeData extends Record<string, unknown> {\r\n  tableId: string;\r\n}\r\n\r\ninterface RelationEdgeData extends Record<string, unknown> {\r\n  relationId: string;\r\n  type: string;\r\n}\r\n\r\ntype TableNodeType = Node<TableNodeData, 'table'>;\r\ntype RelationEdgeType = Edge<RelationEdgeData, 'relation'>;\r\n\r\nfunction ERDCanvasContent() {\r\n  const reactFlowWrapper = useRef<HTMLDivElement>(null);\r\n  const {\r\n    tables,\r\n    relations,\r\n    selectedTableId,\r\n    selectedRelationId,\r\n    addTable,\r\n    addRelation,\r\n    selectTable,\r\n    selectRelation,\r\n    clearSelection,\r\n    updateTable,\r\n    exportToJSON,\r\n    exportToSQL,\r\n    importFromJSON,\r\n    clearAll,\r\n  } = useERDStore();\r\n\r\n  const [nodes, setNodes, onNodesChange] = useNodesState<TableNodeType>([]);\r\n  const [edges, setEdges, onEdgesChange] = useEdgesState<RelationEdgeType>([]);\r\n  const [showGrid, setShowGrid] = useState(true);\r\n  const [showMiniMap, setShowMiniMap] = useState(true);\r\n  const { fitView, zoomIn, zoomOut, screenToFlowPosition } = useReactFlow();\r\n\r\n  // Convert tables to React Flow nodes\r\n  useEffect(() => {\r\n    const flowNodes: TableNodeType[] = tables.map((table) => ({\r\n      id: table.id,\r\n      type: 'table',\r\n      position: table.position,\r\n      data: { tableId: table.id },\r\n      selected: table.id === selectedTableId,\r\n    }));\r\n    setNodes(flowNodes);\r\n  }, [tables, selectedTableId, setNodes]);\r\n\r\n  // Convert relations to React Flow edges\r\n  useEffect(() => {\r\n    const flowEdges: RelationEdgeType[] = relations.map((relation) => ({\r\n      id: relation.id,\r\n      source: relation.sourceTableId,\r\n      target: relation.targetTableId,\r\n      type: 'relation',\r\n      data: { \r\n        relationId: relation.id,\r\n        type: relation.type,\r\n      },\r\n      selected: relation.id === selectedRelationId,\r\n    }));\r\n    setEdges(flowEdges);\r\n  }, [relations, selectedRelationId, setEdges]);\r\n\r\n  // Handle connections (creating new relations)\r\n  const onConnect = useCallback(\r\n    (connection: Connection) => {\r\n      if (connection.source && connection.target) {\r\n        // Get source and target tables to find columns\r\n        const sourceTable = tables.find((t) => t.id === connection.source);\r\n        const targetTable = tables.find((t) => t.id === connection.target);\r\n        \r\n        if (sourceTable && targetTable) {\r\n          // Find primary key of target table\r\n          const targetPk = targetTable.columns.find((c) => c.isPrimaryKey);\r\n          \r\n          if (targetPk) {\r\n            // Find or create foreign key column in source table\r\n            let sourceFk = sourceTable.columns.find((c) => c.isForeignKey);\r\n            \r\n            if (!sourceFk) {\r\n              // Create a new foreign key column\r\n              const newColumnId = crypto.randomUUID();\r\n              const newColumn = {\r\n                id: newColumnId,\r\n                name: `${targetTable.name.toLowerCase()}_id`,\r\n                dataType: targetPk.dataType,\r\n                nullable: true,\r\n                isPrimaryKey: false,\r\n                isForeignKey: true,\r\n                isUnique: false,\r\n                isAutoIncrement: false,\r\n              };\r\n              \r\n              // Add column to source table\r\n              const updatedColumns = [...sourceTable.columns, newColumn];\r\n              updateTable(sourceTable.id, { columns: updatedColumns });\r\n              sourceFk = newColumn;\r\n            }\r\n\r\n            // Create the relation\r\n            addRelation({\r\n              type: 'ONE_TO_MANY',\r\n              sourceTableId: connection.source,\r\n              sourceColumnId: sourceFk.id,\r\n              targetTableId: connection.target,\r\n              targetColumnId: targetPk.id,\r\n              onDelete: 'CASCADE',\r\n              onUpdate: 'CASCADE',\r\n            });\r\n          }\r\n        }\r\n      }\r\n\r\n      setEdges((eds) => addEdge(connection, eds));\r\n    },\r\n    [addRelation, setEdges, tables, updateTable]\r\n  );\r\n\r\n  // Handle node drag stop (update position in store)\r\n  const onNodeDragStop = useCallback(\r\n    (_: React.MouseEvent, node: TableNodeType) => {\r\n      updateTable(node.id, { position: node.position });\r\n    },\r\n    [updateTable]\r\n  );\r\n\r\n  // Handle pane click (deselect)\r\n  const onPaneClick = useCallback(() => {\r\n    clearSelection();\r\n  }, [clearSelection]);\r\n\r\n  // Handle node click\r\n  const onNodeClick = useCallback(\r\n    (_: React.MouseEvent, node: TableNodeType) => {\r\n      selectTable(node.id);\r\n    },\r\n    [selectTable]\r\n  );\r\n\r\n  // Handle edge click\r\n  const onEdgeClick = useCallback(\r\n    (_: React.MouseEvent, edge: RelationEdgeType) => {\r\n      const relationId = edge.data?.relationId;\r\n      if (relationId) {\r\n        selectRelation(relationId);\r\n      }\r\n    },\r\n    [selectRelation]\r\n  );\r\n\r\n  // Add new table at center of viewport\r\n  const handleAddTable = useCallback(() => {\r\n    // Get the container dimensions\r\n    const wrapper = reactFlowWrapper.current;\r\n    if (wrapper) {\r\n      const { width, height } = wrapper.getBoundingClientRect();\r\n      const centerPosition = screenToFlowPosition({\r\n        x: width / 2,\r\n        y: height / 2,\r\n      });\r\n      addTable({ x: centerPosition.x - 120, y: centerPosition.y - 100 });\r\n    } else {\r\n      // Fallback to default position\r\n      addTable({ x: 100, y: 100 });\r\n    }\r\n  }, [addTable, screenToFlowPosition]);\r\n\r\n  // Export as PNG\r\n  const handleExportImage = useCallback(async () => {\r\n    if (reactFlowWrapper.current) {\r\n      const dataUrl = await toPng(reactFlowWrapper.current, {\r\n        backgroundColor: '#0f172a',\r\n      });\r\n      const link = document.createElement('a');\r\n      link.download = 'erd-diagram.png';\r\n      link.href = dataUrl;\r\n      link.click();\r\n    }\r\n  }, []);\r\n\r\n  // Export as JSON\r\n  const handleExportJSON = useCallback(() => {\r\n    const json = exportToJSON();\r\n    const blob = new Blob([json], { type: 'application/json' });\r\n    const url = URL.createObjectURL(blob);\r\n    const link = document.createElement('a');\r\n    link.download = 'erd-schema.json';\r\n    link.href = url;\r\n    link.click();\r\n    URL.revokeObjectURL(url);\r\n  }, [exportToJSON]);\r\n\r\n  // Export as SQL\r\n  const handleExportSQL = useCallback(() => {\r\n    const sql = exportToSQL();\r\n    const blob = new Blob([sql], { type: 'text/plain' });\r\n    const url = URL.createObjectURL(blob);\r\n    const link = document.createElement('a');\r\n    link.download = 'schema.sql';\r\n    link.href = url;\r\n    link.click();\r\n    URL.revokeObjectURL(url);\r\n  }, [exportToSQL]);\r\n\r\n  // Import JSON\r\n  const handleImportJSON = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0];\r\n    if (file) {\r\n      const reader = new FileReader();\r\n      reader.onload = (event) => {\r\n        try {\r\n          const json = event.target?.result as string;\r\n          importFromJSON(json);\r\n        } catch (error) {\r\n          alert('Invalid JSON file');\r\n        }\r\n      };\r\n      reader.readAsText(file);\r\n    }\r\n    e.target.value = '';\r\n  }, [importFromJSON]);\r\n\r\n  return (\r\n    <div className=\"relative w-full h-full\" ref={reactFlowWrapper}>\r\n      <ReactFlow\r\n        nodes={nodes}\r\n        edges={edges}\r\n        onNodesChange={onNodesChange}\r\n        onEdgesChange={onEdgesChange}\r\n        onConnect={onConnect}\r\n        onNodeDragStop={onNodeDragStop}\r\n        onPaneClick={onPaneClick}\r\n        onNodeClick={onNodeClick}\r\n        onEdgeClick={onEdgeClick}\r\n        nodeTypes={nodeTypes}\r\n        edgeTypes={edgeTypes}\r\n        connectionMode={ConnectionMode.Loose}\r\n        fitView\r\n        fitViewOptions={{ padding: 0.2 }}\r\n        defaultEdgeOptions={{\r\n          type: 'relation',\r\n        }}\r\n        snapToGrid\r\n        snapGrid={[15, 15]}\r\n        className=\"bg-slate-950\"\r\n      >\r\n        {showGrid && (\r\n          <Background\r\n            variant={BackgroundVariant.Dots}\r\n            gap={20}\r\n            size={1}\r\n            color=\"rgba(148, 163, 184, 0.15)\"\r\n            className=\"bg-slate-950\"\r\n          />\r\n        )}\r\n\r\n        <Controls \r\n          className=\"!bg-slate-800/80 !border-slate-700 !shadow-xl !rounded-xl overflow-hidden\"\r\n          showInteractive={false}\r\n        />\r\n\r\n        {showMiniMap && (\r\n          <MiniMap\r\n            className=\"!bg-slate-800/80 !border-slate-700 !rounded-xl !shadow-xl !overflow-hidden\"\r\n            nodeStrokeWidth={3}\r\n            zoomable\r\n            pannable\r\n            maskColor=\"rgba(15, 23, 42, 0.7)\"\r\n            nodeColor={(node) => {\r\n              const table = tables.find((t) => t.id === node.id);\r\n              return table?.color || '#64748B';\r\n            }}\r\n          />\r\n        )}\r\n\r\n        {/* Toolbar */}\r\n        <Panel position=\"top-left\" className=\"m-4\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: -20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            className=\"flex items-center gap-2 p-2 bg-slate-800/90 backdrop-blur-sm rounded-xl border border-slate-700 shadow-2xl\"\r\n          >\r\n            <button\r\n              onClick={handleAddTable}\r\n              className=\"flex items-center gap-2 px-3 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg text-sm font-medium transition-all\"\r\n            >\r\n              <Plus className=\"w-4 h-4\" />\r\n              New Table\r\n            </button>\r\n\r\n            <div className=\"w-px h-6 bg-slate-600 mx-1\" />\r\n\r\n            <button\r\n              onClick={() => zoomOut()}\r\n              className=\"p-2 text-slate-400 hover:text-white hover:bg-white/10 rounded-lg transition-colors\"\r\n              title=\"Zoom Out\"\r\n            >\r\n              <ZoomOut className=\"w-4 h-4\" />\r\n            </button>\r\n            <button\r\n              onClick={() => fitView({ padding: 0.2 })}\r\n              className=\"p-2 text-slate-400 hover:text-white hover:bg-white/10 rounded-lg transition-colors\"\r\n              title=\"Fit View\"\r\n            >\r\n              <Maximize className=\"w-4 h-4\" />\r\n            </button>\r\n            <button\r\n              onClick={() => zoomIn()}\r\n              className=\"p-2 text-slate-400 hover:text-white hover:bg-white/10 rounded-lg transition-colors\"\r\n              title=\"Zoom In\"\r\n            >\r\n              <ZoomIn className=\"w-4 h-4\" />\r\n            </button>\r\n\r\n            <div className=\"w-px h-6 bg-slate-600 mx-1\" />\r\n\r\n            <button\r\n              onClick={() => setShowGrid(!showGrid)}\r\n              className={cn(\r\n                \"p-2 rounded-lg transition-colors\",\r\n                showGrid \r\n                  ? \"text-blue-400 bg-blue-500/20\" \r\n                  : \"text-slate-400 hover:text-white hover:bg-white/10\"\r\n              )}\r\n              title=\"Toggle Grid\"\r\n            >\r\n              <Grid3X3 className=\"w-4 h-4\" />\r\n            </button>\r\n          </motion.div>\r\n        </Panel>\r\n\r\n        {/* Export/Import Panel */}\r\n        <Panel position=\"top-right\" className=\"m-4\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: -20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            className=\"flex flex-col gap-2\"\r\n          >\r\n            <div className=\"flex items-center gap-2 p-2 bg-slate-800/90 backdrop-blur-sm rounded-xl border border-slate-700 shadow-2xl\">\r\n              <label className=\"flex items-center gap-2 px-3 py-2 text-slate-300 hover:text-white hover:bg-white/10 rounded-lg text-sm cursor-pointer transition-colors\">\r\n                <FileJson className=\"w-4 h-4\" />\r\n                Import\r\n                <input\r\n                  type=\"file\"\r\n                  accept=\".json\"\r\n                  onChange={handleImportJSON}\r\n                  className=\"hidden\"\r\n                />\r\n              </label>\r\n\r\n              <div className=\"w-px h-6 bg-slate-600\" />\r\n\r\n              <button\r\n                onClick={handleExportJSON}\r\n                className=\"flex items-center gap-2 px-3 py-2 text-slate-300 hover:text-white hover:bg-white/10 rounded-lg text-sm transition-colors\"\r\n                title=\"Export as JSON\"\r\n              >\r\n                <FileJson className=\"w-4 h-4\" />\r\n                JSON\r\n              </button>\r\n              <button\r\n                onClick={handleExportSQL}\r\n                className=\"flex items-center gap-2 px-3 py-2 text-slate-300 hover:text-white hover:bg-white/10 rounded-lg text-sm transition-colors\"\r\n                title=\"Export as SQL\"\r\n              >\r\n                <FileCode className=\"w-4 h-4\" />\r\n                SQL\r\n              </button>\r\n              <button\r\n                onClick={handleExportImage}\r\n                className=\"flex items-center gap-2 px-3 py-2 text-slate-300 hover:text-white hover:bg-white/10 rounded-lg text-sm transition-colors\"\r\n                title=\"Export as Image\"\r\n              >\r\n                <Download className=\"w-4 h-4\" />\r\n                PNG\r\n              </button>\r\n\r\n              <div className=\"w-px h-6 bg-slate-600\" />\r\n\r\n              <button\r\n                onClick={() => {\r\n                  if (confirm('Are you sure you want to clear all tables?')) {\r\n                    clearAll();\r\n                  }\r\n                }}\r\n                className=\"p-2 text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-lg transition-colors\"\r\n                title=\"Clear All\"\r\n              >\r\n                <Trash2 className=\"w-4 h-4\" />\r\n              </button>\r\n            </div>\r\n\r\n            {/* Stats */}\r\n            <div className=\"flex justify-end\">\r\n              <div className=\"px-3 py-1.5 bg-slate-800/60 backdrop-blur-sm rounded-lg border border-slate-700/50\">\r\n                <span className=\"text-xs text-slate-400\">\r\n                  {tables.length} table{tables.length !== 1 ? 's' : ''} • {relations.length} relation{relations.length !== 1 ? 's' : ''}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n        </Panel>\r\n      </ReactFlow>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function ERDCanvas() {\r\n  return (\r\n    <ReactFlowProvider>\r\n      <ERDCanvasContent />\r\n    </ReactFlowProvider>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2004, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/AsusTuf/Desktop/canvas/erd-designer/src/components/erd/PropertiesPanel.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { useERDStore } from '@/store/erdStore';\r\nimport { cn } from '@/lib/utils';\r\nimport { \r\n  X, \r\n  Settings2, \r\n  Key, \r\n  Link2, \r\n  Hash,\r\n  Type,\r\n  AlignLeft,\r\n  ToggleLeft,\r\n  Trash2,\r\n  Plus,\r\n  ChevronDown,\r\n  ChevronUp,\r\n  AlertCircle\r\n} from 'lucide-react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { DATA_TYPES, type DataType, type RelationType } from '@/types';\r\n\r\nexport default function PropertiesPanel() {\r\n  const [activeTab, setActiveTab] = useState<'table' | 'column' | 'relation'>('table');\r\n  \r\n  const {\r\n    tables,\r\n    relations,\r\n    selectedTableId,\r\n    selectedRelationId,\r\n    selectedColumnId,\r\n    updateTable,\r\n    updateColumn,\r\n    deleteColumn,\r\n    updateRelation,\r\n    deleteRelation,\r\n    selectTable,\r\n    clearSelection,\r\n  } = useERDStore();\r\n\r\n  const selectedTable = tables.find((t) => t.id === selectedTableId);\r\n  const selectedColumn = selectedTable?.columns.find((c) => c.id === selectedColumnId);\r\n  const selectedRelation = relations.find((r) => r.id === selectedRelationId);\r\n\r\n  // Update active tab based on selection\r\n  if (selectedRelation && activeTab !== 'relation') {\r\n    setActiveTab('relation');\r\n  } else if (selectedColumn && activeTab !== 'column') {\r\n    setActiveTab('column');\r\n  } else if (selectedTable && activeTab !== 'table' && !selectedColumn && !selectedRelation) {\r\n    setActiveTab('table');\r\n  }\r\n\r\n  const hasSelection = selectedTable || selectedRelation;\r\n\r\n  if (!hasSelection) {\r\n    return (\r\n      <motion.div\r\n        initial={{ opacity: 0, x: 20 }}\r\n        animate={{ opacity: 1, x: 0 }}\r\n        className=\"w-80 bg-slate-900/95 backdrop-blur-sm border-l border-slate-800 flex flex-col\"\r\n      >\r\n        <div className=\"flex items-center justify-between px-4 py-3 border-b border-slate-800\">\r\n          <h2 className=\"font-semibold text-slate-200\">Properties</h2>\r\n        </div>\r\n        <div className=\"flex-1 flex flex-col items-center justify-center p-8 text-center\">\r\n          <div className=\"w-16 h-16 rounded-2xl bg-slate-800/50 flex items-center justify-center mb-4\">\r\n            <Settings2 className=\"w-8 h-8 text-slate-500\" />\r\n          </div>\r\n          <p className=\"text-slate-400 text-sm\">\r\n            Select a table, column, or relation to edit its properties\r\n          </p>\r\n          <div className=\"mt-6 space-y-2 text-xs text-slate-500\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <div className=\"w-4 h-4 rounded bg-blue-500/20 flex items-center justify-center\">\r\n                <Plus className=\"w-2.5 h-2.5 text-blue-400\" />\r\n              </div>\r\n              <span>Click &quot;New Table&quot; to add a table</span>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <div className=\"w-4 h-4 rounded bg-slate-700 flex items-center justify-center\">\r\n                <div className=\"w-2 h-2 rounded-full bg-slate-400\" />\r\n              </div>\r\n              <span>Drag handles to connect tables</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </motion.div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, x: 20 }}\r\n      animate={{ opacity: 1, x: 0 }}\r\n      className=\"w-80 bg-slate-900/95 backdrop-blur-sm border-l border-slate-800 flex flex-col h-full\"\r\n    >\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between px-4 py-3 border-b border-slate-800\">\r\n        <div className=\"flex items-center gap-2\">\r\n          {selectedRelation ? (\r\n            <>\r\n              <Link2 className=\"w-4 h-4 text-blue-400\" />\r\n              <h2 className=\"font-semibold text-slate-200\">Relation</h2>\r\n            </>\r\n          ) : selectedColumn ? (\r\n            <>\r\n              <div className=\"w-4 h-4 rounded bg-slate-700 flex items-center justify-center\">\r\n                <div className=\"w-2 h-2 rounded-full bg-amber-400\" />\r\n              </div>\r\n              <h2 className=\"font-semibold text-slate-200\">Column</h2>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <div \r\n                className=\"w-4 h-4 rounded\"\r\n                style={{ backgroundColor: selectedTable?.color || '#64748B' }}\r\n              />\r\n              <h2 className=\"font-semibold text-slate-200\">Table</h2>\r\n            </>\r\n          )}\r\n        </div>\r\n        <button\r\n          onClick={clearSelection}\r\n          className=\"p-1.5 rounded-lg hover:bg-white/10 text-slate-400 hover:text-white transition-colors\"\r\n        >\r\n          <X className=\"w-4 h-4\" />\r\n        </button>\r\n      </div>\r\n\r\n      {/* Content */}\r\n      <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\r\n        <AnimatePresence mode=\"wait\">\r\n          {/* Relation Properties */}\r\n          {selectedRelation && (\r\n            <motion.div\r\n              key=\"relation\"\r\n              initial={{ opacity: 0, y: 10 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              exit={{ opacity: 0, y: -10 }}\r\n              className=\"space-y-4\"\r\n            >\r\n              {/* Relation Type */}\r\n              <div>\r\n                <label className=\"text-xs font-medium text-slate-400 uppercase tracking-wider mb-2 block\">\r\n                  Relation Type\r\n                </label>\r\n                <div className=\"grid grid-cols-3 gap-2\">\r\n                  {(['ONE_TO_ONE', 'ONE_TO_MANY', 'MANY_TO_MANY'] as RelationType[]).map((type) => (\r\n                    <button\r\n                      key={type}\r\n                      onClick={() => updateRelation(selectedRelation.id, { type })}\r\n                      className={cn(\r\n                        'px-2 py-2 rounded-lg text-xs font-medium transition-all',\r\n                        selectedRelation.type === type\r\n                          ? 'bg-blue-500 text-white'\r\n                          : 'bg-slate-800 text-slate-400 hover:bg-slate-700'\r\n                      )}\r\n                    >\r\n                      {type === 'ONE_TO_ONE' && '1:1'}\r\n                      {type === 'ONE_TO_MANY' && '1:N'}\r\n                      {type === 'MANY_TO_MANY' && 'N:N'}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Source & Target */}\r\n              <div className=\"space-y-3\">\r\n                <div className=\"p-3 bg-slate-800/50 rounded-lg border border-slate-700/50\">\r\n                  <span className=\"text-[10px] text-slate-500 uppercase tracking-wider\">From</span>\r\n                  <div className=\"mt-1\">\r\n                    {(() => {\r\n                      const table = tables.find(t => t.id === selectedRelation.sourceTableId);\r\n                      const column = table?.columns.find(c => c.id === selectedRelation.sourceColumnId);\r\n                      return (\r\n                        <div className=\"text-sm text-slate-200\">\r\n                          <span className=\"font-medium\">{table?.name}</span>\r\n                          <span className=\"text-slate-500 mx-1\">.</span>\r\n                          <span className=\"text-blue-400\">{column?.name}</span>\r\n                        </div>\r\n                      );\r\n                    })()}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"p-3 bg-slate-800/50 rounded-lg border border-slate-700/50\">\r\n                  <span className=\"text-[10px] text-slate-500 uppercase tracking-wider\">To</span>\r\n                  <div className=\"mt-1\">\r\n                    {(() => {\r\n                      const table = tables.find(t => t.id === selectedRelation.targetTableId);\r\n                      const column = table?.columns.find(c => c.id === selectedRelation.targetColumnId);\r\n                      return (\r\n                        <div className=\"text-sm text-slate-200\">\r\n                          <span className=\"font-medium\">{table?.name}</span>\r\n                          <span className=\"text-slate-500 mx-1\">.</span>\r\n                          <span className=\"text-amber-400\">{column?.name}</span>\r\n                        </div>\r\n                      );\r\n                    })()}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* ON DELETE / ON UPDATE */}\r\n              <div className=\"space-y-3\">\r\n                <div>\r\n                  <label className=\"text-xs font-medium text-slate-400 mb-1.5 block\">On Delete</label>\r\n                  <select\r\n                    value={selectedRelation.onDelete || 'CASCADE'}\r\n                    onChange={(e) => updateRelation(selectedRelation.id, { onDelete: e.target.value as any })}\r\n                    className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-sm text-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500/50\"\r\n                  >\r\n                    <option value=\"CASCADE\">CASCADE</option>\r\n                    <option value=\"SET_NULL\">SET NULL</option>\r\n                    <option value=\"RESTRICT\">RESTRICT</option>\r\n                    <option value=\"NO_ACTION\">NO ACTION</option>\r\n                  </select>\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"text-xs font-medium text-slate-400 mb-1.5 block\">On Update</label>\r\n                  <select\r\n                    value={selectedRelation.onUpdate || 'CASCADE'}\r\n                    onChange={(e) => updateRelation(selectedRelation.id, { onUpdate: e.target.value as any })}\r\n                    className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-sm text-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500/50\"\r\n                  >\r\n                    <option value=\"CASCADE\">CASCADE</option>\r\n                    <option value=\"SET_NULL\">SET NULL</option>\r\n                    <option value=\"RESTRICT\">RESTRICT</option>\r\n                    <option value=\"NO_ACTION\">NO ACTION</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Delete Button */}\r\n              <button\r\n                onClick={() => deleteRelation(selectedRelation.id)}\r\n                className=\"w-full flex items-center justify-center gap-2 px-4 py-2 bg-red-500/10 hover:bg-red-500/20 text-red-400 rounded-lg text-sm font-medium transition-colors\"\r\n              >\r\n                <Trash2 className=\"w-4 h-4\" />\r\n                Delete Relation\r\n              </button>\r\n            </motion.div>\r\n          )}\r\n\r\n          {/* Column Properties */}\r\n          {selectedColumn && selectedTable && (\r\n            <motion.div\r\n              key=\"column\"\r\n              initial={{ opacity: 0, y: 10 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              exit={{ opacity: 0, y: -10 }}\r\n              className=\"space-y-4\"\r\n            >\r\n              {/* Column Name */}\r\n              <div>\r\n                <label className=\"text-xs font-medium text-slate-400 mb-1.5 block\">Column Name</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={selectedColumn.name}\r\n                  onChange={(e) => updateColumn(selectedTable.id, selectedColumn.id, { name: e.target.value })}\r\n                  className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-sm text-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500/50\"\r\n                  placeholder=\"column_name\"\r\n                />\r\n              </div>\r\n\r\n              {/* Data Type */}\r\n              <div>\r\n                <label className=\"text-xs font-medium text-slate-400 mb-1.5 block\">Data Type</label>\r\n                <select\r\n                  value={selectedColumn.dataType}\r\n                  onChange={(e) => updateColumn(selectedTable.id, selectedColumn.id, { \r\n                    dataType: e.target.value as DataType \r\n                  })}\r\n                  className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-sm text-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500/50\"\r\n                >\r\n                  {DATA_TYPES.map((dt) => (\r\n                    <option key={dt.type} value={dt.type}>\r\n                      {dt.label}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              {/* Length / Precision */}\r\n              {DATA_TYPES.find(dt => dt.type === selectedColumn.dataType)?.hasLength && (\r\n                <div>\r\n                  <label className=\"text-xs font-medium text-slate-400 mb-1.5 block\">Length</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    value={selectedColumn.length || ''}\r\n                    onChange={(e) => updateColumn(selectedTable.id, selectedColumn.id, { \r\n                      length: e.target.value ? parseInt(e.target.value) : undefined \r\n                    })}\r\n                    className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-sm text-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500/50\"\r\n                    placeholder=\"255\"\r\n                  />\r\n                </div>\r\n              )}\r\n\r\n              {DATA_TYPES.find(dt => dt.type === selectedColumn.dataType)?.hasPrecision && (\r\n                <div className=\"grid grid-cols-2 gap-3\">\r\n                  <div>\r\n                    <label className=\"text-xs font-medium text-slate-400 mb-1.5 block\">Precision</label>\r\n                    <input\r\n                      type=\"number\"\r\n                      value={selectedColumn.precision || ''}\r\n                      onChange={(e) => updateColumn(selectedTable.id, selectedColumn.id, { \r\n                        precision: e.target.value ? parseInt(e.target.value) : undefined \r\n                      })}\r\n                      className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-sm text-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500/50\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"text-xs font-medium text-slate-400 mb-1.5 block\">Scale</label>\r\n                    <input\r\n                      type=\"number\"\r\n                      value={selectedColumn.scale || ''}\r\n                      onChange={(e) => updateColumn(selectedTable.id, selectedColumn.id, { \r\n                        scale: e.target.value ? parseInt(e.target.value) : undefined \r\n                      })}\r\n                      className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-sm text-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500/50\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Constraints */}\r\n              <div>\r\n                <label className=\"text-xs font-medium text-slate-400 uppercase tracking-wider mb-2 block\">\r\n                  Constraints\r\n                </label>\r\n                <div className=\"space-y-2\">\r\n                  <label className=\"flex items-center gap-3 p-2.5 bg-slate-800/50 rounded-lg cursor-pointer hover:bg-slate-800 transition-colors\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={selectedColumn.isPrimaryKey}\r\n                      onChange={(e) => updateColumn(selectedTable.id, selectedColumn.id, { \r\n                        isPrimaryKey: e.target.checked \r\n                      })}\r\n                      className=\"w-4 h-4 rounded border-slate-600 bg-slate-700 text-amber-500 focus:ring-amber-500/50\"\r\n                    />\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <Key className=\"w-4 h-4 text-amber-400\" />\r\n                      <span className=\"text-sm text-slate-300\">Primary Key</span>\r\n                    </div>\r\n                  </label>\r\n\r\n                  <label className=\"flex items-center gap-3 p-2.5 bg-slate-800/50 rounded-lg cursor-pointer hover:bg-slate-800 transition-colors\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={selectedColumn.isUnique}\r\n                      onChange={(e) => updateColumn(selectedTable.id, selectedColumn.id, { \r\n                        isUnique: e.target.checked \r\n                      })}\r\n                      className=\"w-4 h-4 rounded border-slate-600 bg-slate-700 text-purple-500 focus:ring-purple-500/50\"\r\n                    />\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <Hash className=\"w-4 h-4 text-purple-400\" />\r\n                      <span className=\"text-sm text-slate-300\">Unique</span>\r\n                    </div>\r\n                  </label>\r\n\r\n                  <label className=\"flex items-center gap-3 p-2.5 bg-slate-800/50 rounded-lg cursor-pointer hover:bg-slate-800 transition-colors\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={!selectedColumn.nullable}\r\n                      onChange={(e) => updateColumn(selectedTable.id, selectedColumn.id, { \r\n                        nullable: !e.target.checked \r\n                      })}\r\n                      className=\"w-4 h-4 rounded border-slate-600 bg-slate-700 text-red-500 focus:ring-red-500/50\"\r\n                    />\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <AlertCircle className=\"w-4 h-4 text-red-400\" />\r\n                      <span className=\"text-sm text-slate-300\">Required (NOT NULL)</span>\r\n                    </div>\r\n                  </label>\r\n\r\n                  <label className=\"flex items-center gap-3 p-2.5 bg-slate-800/50 rounded-lg cursor-pointer hover:bg-slate-800 transition-colors\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={selectedColumn.isAutoIncrement}\r\n                      onChange={(e) => updateColumn(selectedTable.id, selectedColumn.id, { \r\n                        isAutoIncrement: e.target.checked \r\n                      })}\r\n                      className=\"w-4 h-4 rounded border-slate-600 bg-slate-700 text-green-500 focus:ring-green-500/50\"\r\n                    />\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <div className=\"w-4 h-4 rounded flex items-center justify-center bg-green-500/20 text-green-400 text-[10px] font-bold\">+</div>\r\n                      <span className=\"text-sm text-slate-300\">Auto Increment</span>\r\n                    </div>\r\n                  </label>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Default Value */}\r\n              <div>\r\n                <label className=\"text-xs font-medium text-slate-400 mb-1.5 block\">Default Value</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={selectedColumn.defaultValue || ''}\r\n                  onChange={(e) => updateColumn(selectedTable.id, selectedColumn.id, { \r\n                    defaultValue: e.target.value || undefined \r\n                  })}\r\n                  className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-sm text-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500/50\"\r\n                  placeholder=\"NULL\"\r\n                />\r\n              </div>\r\n\r\n              {/* Comment */}\r\n              <div>\r\n                <label className=\"text-xs font-medium text-slate-400 mb-1.5 block\">Comment</label>\r\n                <textarea\r\n                  value={selectedColumn.comment || ''}\r\n                  onChange={(e) => updateColumn(selectedTable.id, selectedColumn.id, { \r\n                    comment: e.target.value || undefined \r\n                  })}\r\n                  rows={2}\r\n                  className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-sm text-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500/50 resize-none\"\r\n                  placeholder=\"Column description...\"\r\n                />\r\n              </div>\r\n\r\n              {/* Delete Button */}\r\n              {!selectedColumn.isPrimaryKey && (\r\n                <button\r\n                  onClick={() => deleteColumn(selectedTable.id, selectedColumn.id)}\r\n                  className=\"w-full flex items-center justify-center gap-2 px-4 py-2 bg-red-500/10 hover:bg-red-500/20 text-red-400 rounded-lg text-sm font-medium transition-colors\"\r\n                >\r\n                  <Trash2 className=\"w-4 h-4\" />\r\n                  Delete Column\r\n                </button>\r\n              )}\r\n            </motion.div>\r\n          )}\r\n\r\n          {/* Table Properties */}\r\n          {selectedTable && !selectedColumn && (\r\n            <motion.div\r\n              key=\"table\"\r\n              initial={{ opacity: 0, y: 10 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              exit={{ opacity: 0, y: -10 }}\r\n              className=\"space-y-4\"\r\n            >\r\n              {/* Table Name */}\r\n              <div>\r\n                <label className=\"text-xs font-medium text-slate-400 mb-1.5 block\">Table Name</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={selectedTable.name}\r\n                  onChange={(e) => updateTable(selectedTable.id, { name: e.target.value })}\r\n                  className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-sm text-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500/50\"\r\n                  placeholder=\"table_name\"\r\n                />\r\n              </div>\r\n\r\n              {/* Color */}\r\n              <div>\r\n                <label className=\"text-xs font-medium text-slate-400 mb-2 block\">Color</label>\r\n                <div className=\"flex flex-wrap gap-2\">\r\n                  {['#3B82F6', '#10B981', '#F59E0B', '#EF4444', '#8B5CF6', '#EC4899', '#06B6D4', '#84CC16', '#F97316', '#6366F1', '#14B8A6', '#A855F7'].map((color) => (\r\n                    <button\r\n                      key={color}\r\n                      onClick={() => updateTable(selectedTable.id, { color })}\r\n                      className={cn(\r\n                        'w-7 h-7 rounded-lg transition-all hover:scale-110',\r\n                        selectedTable.color === color \r\n                          ? 'ring-2 ring-white shadow-lg' \r\n                          : 'hover:ring-2 hover:ring-white/50'\r\n                      )}\r\n                      style={{ backgroundColor: color }}\r\n                    />\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Comment */}\r\n              <div>\r\n                <label className=\"text-xs font-medium text-slate-400 mb-1.5 block\">Comment</label>\r\n                <textarea\r\n                  value={selectedTable.comment || ''}\r\n                  onChange={(e) => updateTable(selectedTable.id, { comment: e.target.value || undefined })}\r\n                  rows={3}\r\n                  className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-sm text-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500/50 resize-none\"\r\n                  placeholder=\"Table description...\"\r\n                />\r\n              </div>\r\n\r\n              {/* Columns List */}\r\n              <div>\r\n                <div className=\"flex items-center justify-between mb-2\">\r\n                  <label className=\"text-xs font-medium text-slate-400 uppercase tracking-wider\">\r\n                    Columns\r\n                  </label>\r\n                  <span className=\"text-xs text-slate-500\">{selectedTable.columns.length} total</span>\r\n                </div>\r\n                <div className=\"space-y-1\">\r\n                  {selectedTable.columns.map((column, index) => (\r\n                    <div\r\n                      key={column.id}\r\n                      onClick={() => selectTable(selectedTable.id)}\r\n                      className={cn(\r\n                        'flex items-center gap-2 px-3 py-2 rounded-lg text-sm cursor-pointer transition-colors',\r\n                        'hover:bg-slate-800/50',\r\n                        selectedColumnId === column.id && 'bg-slate-800 ring-1 ring-blue-500/50'\r\n                      )}\r\n                    >\r\n                      <span className=\"text-xs text-slate-500 w-5\">{index + 1}</span>\r\n                      {column.isPrimaryKey && <Key className=\"w-3.5 h-3.5 text-amber-400\" />}\r\n                      {column.isForeignKey && <Link2 className=\"w-3.5 h-3.5 text-blue-400\" />}\r\n                      {!column.isPrimaryKey && !column.isForeignKey && <div className=\"w-3.5\" />}\r\n                      <span className={cn(\r\n                        'flex-1',\r\n                        column.isPrimaryKey ? 'text-amber-100 font-medium' : 'text-slate-300'\r\n                      )}>\r\n                        {column.name}\r\n                      </span>\r\n                      <span className=\"text-xs text-slate-500\">{column.dataType}</span>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3344, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/AsusTuf/Desktop/canvas/erd-designer/src/components/erd/Header.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { useERDStore } from '@/store/erdStore';\r\nimport { cn } from '@/lib/utils';\r\nimport { \r\n  Database, \r\n  Github, \r\n  HelpCircle, \r\n  Sparkles,\r\n  ChevronDown,\r\n  Download,\r\n  Upload,\r\n  FileCode,\r\n  Trash2,\r\n  Plus,\r\n  Undo2,\r\n  Redo2,\r\n  Settings,\r\n  Keyboard\r\n} from 'lucide-react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\n\r\nexport default function Header() {\r\n  const [showHelp, setShowHelp] = useState(false);\r\n  const { tables, relations, clearAll, exportToJSON, exportToSQL, importFromJSON } = useERDStore();\r\n\r\n  const handleExportJSON = () => {\r\n    const json = exportToJSON();\r\n    const blob = new Blob([json], { type: 'application/json' });\r\n    const url = URL.createObjectURL(blob);\r\n    const link = document.createElement('a');\r\n    link.download = 'erd-schema.json';\r\n    link.href = url;\r\n    link.click();\r\n    URL.revokeObjectURL(url);\r\n  };\r\n\r\n  const handleExportSQL = () => {\r\n    const sql = exportToSQL();\r\n    const blob = new Blob([sql], { type: 'text/plain' });\r\n    const url = URL.createObjectURL(blob);\r\n    const link = document.createElement('a');\r\n    link.download = 'schema.sql';\r\n    link.href = url;\r\n    link.click();\r\n    URL.revokeObjectURL(url);\r\n  };\r\n\r\n  const handleImport = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0];\r\n    if (file) {\r\n      const reader = new FileReader();\r\n      reader.onload = (event) => {\r\n        try {\r\n          const json = event.target?.result as string;\r\n          importFromJSON(json);\r\n        } catch (error) {\r\n          alert('Invalid JSON file');\r\n        }\r\n      };\r\n      reader.readAsText(file);\r\n    }\r\n    e.target.value = '';\r\n  };\r\n\r\n  return (\r\n    <header className=\"h-14 bg-slate-900/95 backdrop-blur-sm border-b border-slate-800 flex items-center justify-between px-4 shrink-0\">\r\n      {/* Logo */}\r\n      <div className=\"flex items-center gap-3\">\r\n        <div className=\"w-8 h-8 rounded-lg bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-lg shadow-blue-500/20\">\r\n          <Database className=\"w-4 h-4 text-white\" />\r\n        </div>\r\n        <div>\r\n          <h1 className=\"font-bold text-slate-100 text-sm\">ERD Designer</h1>\r\n          <p className=\"text-[10px] text-slate-500\">Visual Database Design</p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Center - Stats */}\r\n      <div className=\"hidden md:flex items-center gap-4\">\r\n        <div className=\"flex items-center gap-2 px-3 py-1.5 bg-slate-800/50 rounded-lg border border-slate-700/50\">\r\n          <span className=\"text-xs text-slate-400\">Tables:</span>\r\n          <span className=\"text-xs font-semibold text-slate-200\">{tables.length}</span>\r\n        </div>\r\n        <div className=\"flex items-center gap-2 px-3 py-1.5 bg-slate-800/50 rounded-lg border border-slate-700/50\">\r\n          <span className=\"text-xs text-slate-400\">Relations:</span>\r\n          <span className=\"text-xs font-semibold text-slate-200\">{relations.length}</span>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Right - Actions */}\r\n      <div className=\"flex items-center gap-2\">\r\n        {/* Import/Export Dropdown */}\r\n        <div className=\"relative group\">\r\n          <button className=\"flex items-center gap-2 px-3 py-1.5 text-slate-300 hover:text-white hover:bg-white/5 rounded-lg text-sm transition-colors\">\r\n            <Download className=\"w-4 h-4\" />\r\n            <span className=\"hidden sm:inline\">Export</span>\r\n            <ChevronDown className=\"w-3 h-3\" />\r\n          </button>\r\n          \r\n          <div className=\"absolute right-0 top-full mt-1 w-40 bg-slate-800 rounded-xl border border-slate-700 shadow-2xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-50\">\r\n            <button\r\n              onClick={handleExportJSON}\r\n              className=\"w-full px-4 py-2.5 flex items-center gap-2 text-sm text-slate-300 hover:text-white hover:bg-white/5 transition-colors first:rounded-t-xl\"\r\n            >\r\n              <Download className=\"w-4 h-4\" />\r\n              Export JSON\r\n            </button>\r\n            <button\r\n              onClick={handleExportSQL}\r\n              className=\"w-full px-4 py-2.5 flex items-center gap-2 text-sm text-slate-300 hover:text-white hover:bg-white/5 transition-colors last:rounded-b-xl\"\r\n            >\r\n              <FileCode className=\"w-4 h-4\" />\r\n              Export SQL\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <label className=\"flex items-center gap-2 px-3 py-1.5 text-slate-300 hover:text-white hover:bg-white/5 rounded-lg text-sm cursor-pointer transition-colors\">\r\n          <Upload className=\"w-4 h-4\" />\r\n          <span className=\"hidden sm:inline\">Import</span>\r\n          <input\r\n            type=\"file\"\r\n            accept=\".json\"\r\n            onChange={handleImport}\r\n            className=\"hidden\"\r\n          />\r\n        </label>\r\n\r\n        <div className=\"w-px h-6 bg-slate-700 mx-1\" />\r\n\r\n        {/* Help */}\r\n        <button\r\n          onClick={() => setShowHelp(!showHelp)}\r\n          className={cn(\r\n            \"p-2 rounded-lg transition-colors\",\r\n            showHelp ? \"text-blue-400 bg-blue-500/10\" : \"text-slate-400 hover:text-white hover:bg-white/5\"\r\n          )}\r\n        >\r\n          <HelpCircle className=\"w-4 h-4\" />\r\n        </button>\r\n\r\n        {/* GitHub */}\r\n        <a\r\n          href=\"https://github.com\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n          className=\"p-2 text-slate-400 hover:text-white hover:bg-white/5 rounded-lg transition-colors\"\r\n        >\r\n          <Github className=\"w-4 h-4\" />\r\n        </a>\r\n      </div>\r\n\r\n      {/* Help Modal */}\r\n      <AnimatePresence>\r\n        {showHelp && (\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4\"\r\n            onClick={() => setShowHelp(false)}\r\n          >\r\n            <motion.div\r\n              initial={{ scale: 0.95, opacity: 0 }}\r\n              animate={{ scale: 1, opacity: 1 }}\r\n              exit={{ scale: 0.95, opacity: 0 }}\r\n              className=\"bg-slate-900 rounded-2xl border border-slate-700 shadow-2xl max-w-lg w-full overflow-hidden\"\r\n              onClick={(e) => e.stopPropagation()}\r\n            >\r\n              <div className=\"p-6\">\r\n                <div className=\"flex items-center gap-3 mb-6\">\r\n                  <div className=\"w-10 h-10 rounded-xl bg-blue-500/10 flex items-center justify-center\">\r\n                    <Sparkles className=\"w-5 h-5 text-blue-400\" />\r\n                  </div>\r\n                  <div>\r\n                    <h2 className=\"text-lg font-semibold text-white\">Quick Guide</h2>\r\n                    <p className=\"text-sm text-slate-400\">Learn how to use ERD Designer</p>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"space-y-4\">\r\n                  <div className=\"flex gap-4\">\r\n                    <div className=\"w-10 h-10 rounded-lg bg-slate-800 flex items-center justify-center shrink-0\">\r\n                      <Plus className=\"w-5 h-5 text-blue-400\" />\r\n                    </div>\r\n                    <div>\r\n                      <h3 className=\"font-medium text-slate-200\">Create Tables</h3>\r\n                      <p className=\"text-sm text-slate-400\">Click &quot;New Table&quot; button or double-click on canvas to create a new table.</p>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"flex gap-4\">\r\n                    <div className=\"w-10 h-10 rounded-lg bg-slate-800 flex items-center justify-center shrink-0\">\r\n                      <div className=\"w-5 h-5 rounded-full border-2 border-purple-400 flex items-center justify-center\">\r\n                        <div className=\"w-2 h-2 rounded-full bg-purple-400\" />\r\n                      </div>\r\n                    </div>\r\n                    <div>\r\n                      <h3 className=\"font-medium text-slate-200\">Connect Tables</h3>\r\n                      <p className=\"text-sm text-slate-400\">Drag from one table&apos;s handle to another to create relationships.</p>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"flex gap-4\">\r\n                    <div className=\"w-10 h-10 rounded-lg bg-slate-800 flex items-center justify-center shrink-0\">\r\n                      <Settings className=\"w-5 h-5 text-green-400\" />\r\n                    </div>\r\n                    <div>\r\n                      <h3 className=\"font-medium text-slate-200\">Edit Properties</h3>\r\n                      <p className=\"text-sm text-slate-400\">Click on any table or column to edit its properties in the sidebar.</p>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"flex gap-4\">\r\n                    <div className=\"w-10 h-10 rounded-lg bg-slate-800 flex items-center justify-center shrink-0\">\r\n                      <FileCode className=\"w-5 h-5 text-amber-400\" />\r\n                    </div>\r\n                    <div>\r\n                      <h3 className=\"font-medium text-slate-200\">Export SQL</h3>\r\n                      <p className=\"text-sm text-slate-400\">Export your diagram as SQL DDL statements ready to run on your database.</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"mt-6 pt-4 border-t border-slate-800\">\r\n                  <h4 className=\"text-xs font-medium text-slate-500 uppercase tracking-wider mb-3\">Keyboard Shortcuts</h4>\r\n                  <div className=\"grid grid-cols-2 gap-2 text-sm\">\r\n                    <div className=\"flex items-center justify-between px-3 py-2 bg-slate-800/50 rounded-lg\">\r\n                      <span className=\"text-slate-400\">Delete</span>\r\n                      <span className=\"text-slate-200\">Delete selected</span>\r\n                    </div>\r\n                    <div className=\"flex items-center justify-between px-3 py-2 bg-slate-800/50 rounded-lg\">\r\n                      <span className=\"text-slate-400\">Space + Drag</span>\r\n                      <span className=\"text-slate-200\">Pan canvas</span>\r\n                    </div>\r\n                    <div className=\"flex items-center justify-between px-3 py-2 bg-slate-800/50 rounded-lg\">\r\n                      <span className=\"text-slate-400\">Scroll</span>\r\n                      <span className=\"text-slate-200\">Zoom in/out</span>\r\n                    </div>\r\n                    <div className=\"flex items-center justify-between px-3 py-2 bg-slate-800/50 rounded-lg\">\r\n                      <span className=\"text-slate-400\">Click</span>\r\n                      <span className=\"text-slate-200\">Select</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"px-6 py-4 bg-slate-800/50 border-t border-slate-800\">\r\n                <button\r\n                  onClick={() => setShowHelp(false)}\r\n                  className=\"w-full py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg text-sm font-medium transition-colors\"\r\n                >\r\n                  Got it!\r\n                </button>\r\n              </div>\r\n            </motion.div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </header>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4152, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/AsusTuf/Desktop/canvas/erd-designer/src/components/erd/index.ts"],"sourcesContent":["export { default as ERDCanvas } from './ERDCanvas';\r\nexport { default as PropertiesPanel } from './PropertiesPanel';\r\nexport { default as Header } from './Header';\r\nexport { default as TableNode } from './TableNode';\r\nexport { default as RelationEdge } from './RelationEdge';\r\n"],"names":[],"mappings":";AAAA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 4203, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/AsusTuf/Desktop/canvas/erd-designer/src/components/layout/AppHeader.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport Link from 'next/link';\r\nimport { usePathname } from 'next/navigation';\r\nimport { cn } from '@/lib/utils';\r\nimport { \r\n  Database, \r\n  Workflow,\r\n  Github, \r\n  HelpCircle, \r\n  Sparkles,\r\n  ChevronDown,\r\n  Download,\r\n  Upload,\r\n  FileCode,\r\n  Keyboard,\r\n  Settings,\r\n  Plus,\r\n} from 'lucide-react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\n\r\ninterface AppHeaderProps {\r\n  onExportJSON?: () => void;\r\n  onExportSQL?: () => void;\r\n  onExportPNG?: () => void;\r\n  onImport?: (e: React.ChangeEvent<HTMLInputElement>) => void;\r\n  stats?: { label: string; value: number }[];\r\n  title?: string;\r\n  subtitle?: string;\r\n  helpContent?: React.ReactNode;\r\n}\r\n\r\nexport default function AppHeader({\r\n  onExportJSON,\r\n  onExportSQL,\r\n  onExportPNG,\r\n  onImport,\r\n  stats = [],\r\n  title = 'Designer',\r\n  subtitle = 'Visual Design Tool',\r\n  helpContent,\r\n}: AppHeaderProps) {\r\n  const [showHelp, setShowHelp] = useState(false);\r\n  const pathname = usePathname();\r\n\r\n  const isERD = pathname === '/';\r\n  const isFlowchart = pathname === '/flowchart';\r\n\r\n  return (\r\n    <header className=\"h-14 bg-slate-900/95 backdrop-blur-sm border-b border-slate-800 flex items-center justify-between px-4 shrink-0 z-50\">\r\n      {/* Logo & Navigation */}\r\n      <div className=\"flex items-center gap-4\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <div className=\"w-8 h-8 rounded-lg bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-lg shadow-blue-500/20\">\r\n            {isERD ? (\r\n              <Database className=\"w-4 h-4 text-white\" />\r\n            ) : (\r\n              <Workflow className=\"w-4 h-4 text-white\" />\r\n            )}\r\n          </div>\r\n          <div>\r\n            <h1 className=\"font-bold text-slate-100 text-sm\">{title}</h1>\r\n            <p className=\"text-[10px] text-slate-500\">{subtitle}</p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Navigation Tabs */}\r\n        <div className=\"hidden sm:flex items-center gap-1 p-1 bg-slate-800/50 rounded-lg border border-slate-700/50 ml-4\">\r\n          <Link\r\n            href=\"/\"\r\n            className={cn(\r\n              \"flex items-center gap-2 px-3 py-1.5 rounded-md text-xs font-medium transition-all\",\r\n              isERD\r\n                ? \"bg-blue-500 text-white\"\r\n                : \"text-slate-400 hover:text-slate-200 hover:bg-white/5\"\r\n            )}\r\n          >\r\n            <Database className=\"w-3.5 h-3.5\" />\r\n            ERD\r\n          </Link>\r\n          <Link\r\n            href=\"/flowchart\"\r\n            className={cn(\r\n              \"flex items-center gap-2 px-3 py-1.5 rounded-md text-xs font-medium transition-all\",\r\n              isFlowchart\r\n                ? \"bg-blue-500 text-white\"\r\n                : \"text-slate-400 hover:text-slate-200 hover:bg-white/5\"\r\n            )}\r\n          >\r\n            <Workflow className=\"w-3.5 h-3.5\" />\r\n            Flowchart\r\n          </Link>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Center - Stats */}\r\n      {stats.length > 0 && (\r\n        <div className=\"hidden md:flex items-center gap-3\">\r\n          {stats.map((stat, index) => (\r\n            <div \r\n              key={index}\r\n              className=\"flex items-center gap-2 px-3 py-1.5 bg-slate-800/50 rounded-lg border border-slate-700/50\"\r\n            >\r\n              <span className=\"text-xs text-slate-400\">{stat.label}:</span>\r\n              <span className=\"text-xs font-semibold text-slate-200\">{stat.value}</span>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {/* Right - Actions */}\r\n      <div className=\"flex items-center gap-2\">\r\n        {/* Export Dropdown */}\r\n        {(onExportJSON || onExportPNG) && (\r\n          <div className=\"relative group\">\r\n            <button className=\"flex items-center gap-2 px-3 py-1.5 text-slate-300 hover:text-white hover:bg-white/5 rounded-lg text-sm transition-colors\">\r\n              <Download className=\"w-4 h-4\" />\r\n              <span className=\"hidden sm:inline\">Export</span>\r\n              <ChevronDown className=\"w-3 h-3\" />\r\n            </button>\r\n            \r\n            <div className=\"absolute right-0 top-full mt-1 w-40 bg-slate-800 rounded-xl border border-slate-700 shadow-2xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-50\">\r\n              {onExportJSON && (\r\n                <button\r\n                  onClick={onExportJSON}\r\n                  className=\"w-full px-4 py-2.5 flex items-center gap-2 text-sm text-slate-300 hover:text-white hover:bg-white/5 transition-colors first:rounded-t-xl\"\r\n                >\r\n                  <Download className=\"w-4 h-4\" />\r\n                  Export JSON\r\n                </button>\r\n              )}\r\n              {onExportSQL && (\r\n                <button\r\n                  onClick={onExportSQL}\r\n                  className=\"w-full px-4 py-2.5 flex items-center gap-2 text-sm text-slate-300 hover:text-white hover:bg-white/5 transition-colors\"\r\n                >\r\n                  <FileCode className=\"w-4 h-4\" />\r\n                  Export SQL\r\n                </button>\r\n              )}\r\n              {onExportPNG && (\r\n                <button\r\n                  onClick={onExportPNG}\r\n                  className=\"w-full px-4 py-2.5 flex items-center gap-2 text-sm text-slate-300 hover:text-white hover:bg-white/5 transition-colors last:rounded-b-xl\"\r\n                >\r\n                  <Download className=\"w-4 h-4\" />\r\n                  Export PNG\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Import */}\r\n        {onImport && (\r\n          <label className=\"flex items-center gap-2 px-3 py-1.5 text-slate-300 hover:text-white hover:bg-white/5 rounded-lg text-sm cursor-pointer transition-colors\">\r\n            <Upload className=\"w-4 h-4\" />\r\n            <span className=\"hidden sm:inline\">Import</span>\r\n            <input\r\n              type=\"file\"\r\n              accept=\".json\"\r\n              onChange={onImport}\r\n              className=\"hidden\"\r\n            />\r\n          </label>\r\n        )}\r\n\r\n        <div className=\"w-px h-6 bg-slate-700 mx-1\" />\r\n\r\n        {/* Help */}\r\n        <button\r\n          onClick={() => setShowHelp(!showHelp)}\r\n          className={cn(\r\n            \"p-2 rounded-lg transition-colors\",\r\n            showHelp ? \"text-blue-400 bg-blue-500/10\" : \"text-slate-400 hover:text-white hover:bg-white/5\"\r\n          )}\r\n        >\r\n          <HelpCircle className=\"w-4 h-4\" />\r\n        </button>\r\n\r\n        {/* GitHub */}\r\n        <a\r\n          href=\"https://github.com\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n          className=\"p-2 text-slate-400 hover:text-white hover:bg-white/5 rounded-lg transition-colors\"\r\n        >\r\n          <Github className=\"w-4 h-4\" />\r\n        </a>\r\n      </div>\r\n\r\n      {/* Help Modal */}\r\n      <AnimatePresence>\r\n        {showHelp && (\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4\"\r\n            onClick={() => setShowHelp(false)}\r\n          >\r\n            <motion.div\r\n              initial={{ scale: 0.95, opacity: 0 }}\r\n              animate={{ scale: 1, opacity: 1 }}\r\n              exit={{ scale: 0.95, opacity: 0 }}\r\n              className=\"bg-slate-900 rounded-2xl border border-slate-700 shadow-2xl max-w-lg w-full overflow-hidden\"\r\n              onClick={(e) => e.stopPropagation()}\r\n            >\r\n              <div className=\"p-6\">\r\n                <div className=\"flex items-center gap-3 mb-6\">\r\n                  <div className=\"w-10 h-10 rounded-xl bg-blue-500/10 flex items-center justify-center\">\r\n                    <Sparkles className=\"w-5 h-5 text-blue-400\" />\r\n                  </div>\r\n                  <div>\r\n                    <h2 className=\"text-lg font-semibold text-white\">Quick Guide</h2>\r\n                    <p className=\"text-sm text-slate-400\">Learn how to use {title}</p>\r\n                  </div>\r\n                </div>\r\n\r\n                {helpContent || (\r\n                  <div className=\"space-y-4\">\r\n                    <div className=\"flex gap-4\">\r\n                      <div className=\"w-10 h-10 rounded-lg bg-slate-800 flex items-center justify-center shrink-0\">\r\n                        <Plus className=\"w-5 h-5 text-blue-400\" />\r\n                      </div>\r\n                      <div>\r\n                        <h3 className=\"font-medium text-slate-200\">Create Elements</h3>\r\n                        <p className=\"text-sm text-slate-400\">Add new elements to your diagram using the toolbar or sidebar.</p>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"flex gap-4\">\r\n                      <div className=\"w-10 h-10 rounded-lg bg-slate-800 flex items-center justify-center shrink-0\">\r\n                        <Settings className=\"w-5 h-5 text-green-400\" />\r\n                      </div>\r\n                      <div>\r\n                        <h3 className=\"font-medium text-slate-200\">Edit Properties</h3>\r\n                        <p className=\"text-sm text-slate-400\">Click on any element to edit its properties in the sidebar.</p>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"flex gap-4\">\r\n                      <div className=\"w-10 h-10 rounded-lg bg-slate-800 flex items-center justify-center shrink-0\">\r\n                        <Download className=\"w-5 h-5 text-amber-400\" />\r\n                      </div>\r\n                      <div>\r\n                        <h3 className=\"font-medium text-slate-200\">Export</h3>\r\n                        <p className=\"text-sm text-slate-400\">Save your work as JSON or export as an image.</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                <div className=\"mt-6 pt-4 border-t border-slate-800\">\r\n                  <h4 className=\"text-xs font-medium text-slate-500 uppercase tracking-wider mb-3\">Keyboard Shortcuts</h4>\r\n                  <div className=\"grid grid-cols-2 gap-2 text-sm\">\r\n                    <div className=\"flex items-center justify-between px-3 py-2 bg-slate-800/50 rounded-lg\">\r\n                      <span className=\"text-slate-400\">Delete</span>\r\n                      <span className=\"text-slate-200\">Remove selected</span>\r\n                    </div>\r\n                    <div className=\"flex items-center justify-between px-3 py-2 bg-slate-800/50 rounded-lg\">\r\n                      <span className=\"text-slate-400\">Space + Drag</span>\r\n                      <span className=\"text-slate-200\">Pan canvas</span>\r\n                    </div>\r\n                    <div className=\"flex items-center justify-between px-3 py-2 bg-slate-800/50 rounded-lg\">\r\n                      <span className=\"text-slate-400\">Scroll</span>\r\n                      <span className=\"text-slate-200\">Zoom in/out</span>\r\n                    </div>\r\n                    <div className=\"flex items-center justify-between px-3 py-2 bg-slate-800/50 rounded-lg\">\r\n                      <span className=\"text-slate-400\">Click</span>\r\n                      <span className=\"text-slate-200\">Select element</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"px-6 py-4 bg-slate-800/50 border-t border-slate-800\">\r\n                <button\r\n                  onClick={() => setShowHelp(false)}\r\n                  className=\"w-full py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg text-sm font-medium transition-colors\"\r\n                >\r\n                  Got it!\r\n                </button>\r\n              </div>\r\n            </motion.div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </header>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcA;AAAA;AApBA;;;;;;;;AAiCe,SAAS,UAAU,EAChC,YAAY,EACZ,WAAW,EACX,WAAW,EACX,QAAQ,EACR,QAAQ,EAAE,EACV,QAAQ,UAAU,EAClB,WAAW,oBAAoB,EAC/B,WAAW,EACI;IACf,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,WAAW,IAAA,iJAAW;IAE5B,MAAM,QAAQ,aAAa;IAC3B,MAAM,cAAc,aAAa;IAEjC,qBACE,8OAAC;QAAO,WAAU;;0BAEhB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;0CACZ,sBACC,8OAAC,sNAAQ;oCAAC,WAAU;;;;;yDAEpB,8OAAC,sNAAQ;oCAAC,WAAU;;;;;;;;;;;0CAGxB,8OAAC;;kDACC,8OAAC;wCAAG,WAAU;kDAAoC;;;;;;kDAClD,8OAAC;wCAAE,WAAU;kDAA8B;;;;;;;;;;;;;;;;;;kCAK/C,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,uKAAI;gCACH,MAAK;gCACL,WAAW,IAAA,yHAAE,EACX,qFACA,QACI,2BACA;;kDAGN,8OAAC,sNAAQ;wCAAC,WAAU;;;;;;oCAAgB;;;;;;;0CAGtC,8OAAC,uKAAI;gCACH,MAAK;gCACL,WAAW,IAAA,yHAAE,EACX,qFACA,cACI,2BACA;;kDAGN,8OAAC,sNAAQ;wCAAC,WAAU;;;;;;oCAAgB;;;;;;;;;;;;;;;;;;;YAOzC,MAAM,MAAM,GAAG,mBACd,8OAAC;gBAAI,WAAU;0BACZ,MAAM,GAAG,CAAC,CAAC,MAAM,sBAChB,8OAAC;wBAEC,WAAU;;0CAEV,8OAAC;gCAAK,WAAU;;oCAA0B,KAAK,KAAK;oCAAC;;;;;;;0CACrD,8OAAC;gCAAK,WAAU;0CAAwC,KAAK,KAAK;;;;;;;uBAJ7D;;;;;;;;;;0BAWb,8OAAC;gBAAI,WAAU;;oBAEZ,CAAC,gBAAgB,WAAW,mBAC3B,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAO,WAAU;;kDAChB,8OAAC,sNAAQ;wCAAC,WAAU;;;;;;kDACpB,8OAAC;wCAAK,WAAU;kDAAmB;;;;;;kDACnC,8OAAC,mOAAW;wCAAC,WAAU;;;;;;;;;;;;0CAGzB,8OAAC;gCAAI,WAAU;;oCACZ,8BACC,8OAAC;wCACC,SAAS;wCACT,WAAU;;0DAEV,8OAAC,sNAAQ;gDAAC,WAAU;;;;;;4CAAY;;;;;;;oCAInC,6BACC,8OAAC;wCACC,SAAS;wCACT,WAAU;;0DAEV,8OAAC,0NAAQ;gDAAC,WAAU;;;;;;4CAAY;;;;;;;oCAInC,6BACC,8OAAC;wCACC,SAAS;wCACT,WAAU;;0DAEV,8OAAC,sNAAQ;gDAAC,WAAU;;;;;;4CAAY;;;;;;;;;;;;;;;;;;;oBASzC,0BACC,8OAAC;wBAAM,WAAU;;0CACf,8OAAC,gNAAM;gCAAC,WAAU;;;;;;0CAClB,8OAAC;gCAAK,WAAU;0CAAmB;;;;;;0CACnC,8OAAC;gCACC,MAAK;gCACL,QAAO;gCACP,UAAU;gCACV,WAAU;;;;;;;;;;;;kCAKhB,8OAAC;wBAAI,WAAU;;;;;;kCAGf,8OAAC;wBACC,SAAS,IAAM,YAAY,CAAC;wBAC5B,WAAW,IAAA,yHAAE,EACX,oCACA,WAAW,iCAAiC;kCAG9C,cAAA,8OAAC,4OAAU;4BAAC,WAAU;;;;;;;;;;;kCAIxB,8OAAC;wBACC,MAAK;wBACL,QAAO;wBACP,KAAI;wBACJ,WAAU;kCAEV,cAAA,8OAAC,gNAAM;4BAAC,WAAU;;;;;;;;;;;;;;;;;0BAKtB,8OAAC,4MAAe;0BACb,0BACC,8OAAC,oMAAM,CAAC,GAAG;oBACT,SAAS;wBAAE,SAAS;oBAAE;oBACtB,SAAS;wBAAE,SAAS;oBAAE;oBACtB,MAAM;wBAAE,SAAS;oBAAE;oBACnB,WAAU;oBACV,SAAS,IAAM,YAAY;8BAE3B,cAAA,8OAAC,oMAAM,CAAC,GAAG;wBACT,SAAS;4BAAE,OAAO;4BAAM,SAAS;wBAAE;wBACnC,SAAS;4BAAE,OAAO;4BAAG,SAAS;wBAAE;wBAChC,MAAM;4BAAE,OAAO;4BAAM,SAAS;wBAAE;wBAChC,WAAU;wBACV,SAAS,CAAC,IAAM,EAAE,eAAe;;0CAEjC,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAI,WAAU;0DACb,cAAA,8OAAC,sNAAQ;oDAAC,WAAU;;;;;;;;;;;0DAEtB,8OAAC;;kEACC,8OAAC;wDAAG,WAAU;kEAAmC;;;;;;kEACjD,8OAAC;wDAAE,WAAU;;4DAAyB;4DAAkB;;;;;;;;;;;;;;;;;;;oCAI3D,6BACC,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAI,WAAU;kEACb,cAAA,8OAAC,0MAAI;4DAAC,WAAU;;;;;;;;;;;kEAElB,8OAAC;;0EACC,8OAAC;gEAAG,WAAU;0EAA6B;;;;;;0EAC3C,8OAAC;gEAAE,WAAU;0EAAyB;;;;;;;;;;;;;;;;;;0DAI1C,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAI,WAAU;kEACb,cAAA,8OAAC,sNAAQ;4DAAC,WAAU;;;;;;;;;;;kEAEtB,8OAAC;;0EACC,8OAAC;gEAAG,WAAU;0EAA6B;;;;;;0EAC3C,8OAAC;gEAAE,WAAU;0EAAyB;;;;;;;;;;;;;;;;;;0DAI1C,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAI,WAAU;kEACb,cAAA,8OAAC,sNAAQ;4DAAC,WAAU;;;;;;;;;;;kEAEtB,8OAAC;;0EACC,8OAAC;gEAAG,WAAU;0EAA6B;;;;;;0EAC3C,8OAAC;gEAAE,WAAU;0EAAyB;;;;;;;;;;;;;;;;;;;;;;;;kDAM9C,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAG,WAAU;0DAAmE;;;;;;0DACjF,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAI,WAAU;;0EACb,8OAAC;gEAAK,WAAU;0EAAiB;;;;;;0EACjC,8OAAC;gEAAK,WAAU;0EAAiB;;;;;;;;;;;;kEAEnC,8OAAC;wDAAI,WAAU;;0EACb,8OAAC;gEAAK,WAAU;0EAAiB;;;;;;0EACjC,8OAAC;gEAAK,WAAU;0EAAiB;;;;;;;;;;;;kEAEnC,8OAAC;wDAAI,WAAU;;0EACb,8OAAC;gEAAK,WAAU;0EAAiB;;;;;;0EACjC,8OAAC;gEAAK,WAAU;0EAAiB;;;;;;;;;;;;kEAEnC,8OAAC;wDAAI,WAAU;;0EACb,8OAAC;gEAAK,WAAU;0EAAiB;;;;;;0EACjC,8OAAC;gEAAK,WAAU;0EAAiB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0CAMzC,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCACC,SAAS,IAAM,YAAY;oCAC3B,WAAU;8CACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUjB"}},
    {"offset": {"line": 4975, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/AsusTuf/Desktop/canvas/erd-designer/src/app/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { ERDCanvas, PropertiesPanel } from '@/components/erd';\r\nimport AppHeader from '@/components/layout/AppHeader';\r\nimport { useERDStore } from '@/store/erdStore';\r\nimport { useCallback } from 'react';\r\n\r\nexport default function ERDPage() {\r\n  const { \r\n    tables, \r\n    relations, \r\n    exportToJSON, \r\n    exportToSQL, \r\n    importFromJSON \r\n  } = useERDStore();\r\n\r\n  const handleExportJSON = useCallback(() => {\r\n    const json = exportToJSON();\r\n    const blob = new Blob([json], { type: 'application/json' });\r\n    const url = URL.createObjectURL(blob);\r\n    const link = document.createElement('a');\r\n    link.download = 'erd-schema.json';\r\n    link.href = url;\r\n    link.click();\r\n    URL.revokeObjectURL(url);\r\n  }, [exportToJSON]);\r\n\r\n  const handleExportSQL = useCallback(() => {\r\n    const sql = exportToSQL();\r\n    const blob = new Blob([sql], { type: 'text/plain' });\r\n    const url = URL.createObjectURL(blob);\r\n    const link = document.createElement('a');\r\n    link.download = 'schema.sql';\r\n    link.href = url;\r\n    link.click();\r\n    URL.revokeObjectURL(url);\r\n  }, [exportToSQL]);\r\n\r\n  const handleImport = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0];\r\n    if (file) {\r\n      const reader = new FileReader();\r\n      reader.onload = (event) => {\r\n        try {\r\n          const json = event.target?.result as string;\r\n          importFromJSON(json);\r\n        } catch (error) {\r\n          alert('Invalid JSON file');\r\n        }\r\n      };\r\n      reader.readAsText(file);\r\n    }\r\n    e.target.value = '';\r\n  }, [importFromJSON]);\r\n\r\n  return (\r\n    <div className=\"flex flex-col h-screen bg-slate-950 overflow-hidden\">\r\n      <AppHeader\r\n        title=\"ERD Designer\"\r\n        subtitle=\"Visual Database Design\"\r\n        onExportJSON={handleExportJSON}\r\n        onExportSQL={handleExportSQL}\r\n        onImport={handleImport}\r\n        stats={[\r\n          { label: 'Tables', value: tables.length },\r\n          { label: 'Relations', value: relations.length },\r\n        ]}\r\n      />\r\n      <div className=\"flex flex-1 overflow-hidden\">\r\n        <div className=\"flex-1 relative\">\r\n          <ERDCanvas />\r\n        </div>\r\n        <PropertiesPanel />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AACA;AACA;AACA;AALA;;;;;;AAOe,SAAS;IACtB,MAAM,EACJ,MAAM,EACN,SAAS,EACT,YAAY,EACZ,WAAW,EACX,cAAc,EACf,GAAG,IAAA,uIAAW;IAEf,MAAM,mBAAmB,IAAA,oNAAW,EAAC;QACnC,MAAM,OAAO;QACb,MAAM,OAAO,IAAI,KAAK;YAAC;SAAK,EAAE;YAAE,MAAM;QAAmB;QACzD,MAAM,MAAM,IAAI,eAAe,CAAC;QAChC,MAAM,OAAO,SAAS,aAAa,CAAC;QACpC,KAAK,QAAQ,GAAG;QAChB,KAAK,IAAI,GAAG;QACZ,KAAK,KAAK;QACV,IAAI,eAAe,CAAC;IACtB,GAAG;QAAC;KAAa;IAEjB,MAAM,kBAAkB,IAAA,oNAAW,EAAC;QAClC,MAAM,MAAM;QACZ,MAAM,OAAO,IAAI,KAAK;YAAC;SAAI,EAAE;YAAE,MAAM;QAAa;QAClD,MAAM,MAAM,IAAI,eAAe,CAAC;QAChC,MAAM,OAAO,SAAS,aAAa,CAAC;QACpC,KAAK,QAAQ,GAAG;QAChB,KAAK,IAAI,GAAG;QACZ,KAAK,KAAK;QACV,IAAI,eAAe,CAAC;IACtB,GAAG;QAAC;KAAY;IAEhB,MAAM,eAAe,IAAA,oNAAW,EAAC,CAAC;QAChC,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE;QAChC,IAAI,MAAM;YACR,MAAM,SAAS,IAAI;YACnB,OAAO,MAAM,GAAG,CAAC;gBACf,IAAI;oBACF,MAAM,OAAO,MAAM,MAAM,EAAE;oBAC3B,eAAe;gBACjB,EAAE,OAAO,OAAO;oBACd,MAAM;gBACR;YACF;YACA,OAAO,UAAU,CAAC;QACpB;QACA,EAAE,MAAM,CAAC,KAAK,GAAG;IACnB,GAAG;QAAC;KAAe;IAEnB,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,oJAAS;gBACR,OAAM;gBACN,UAAS;gBACT,cAAc;gBACd,aAAa;gBACb,UAAU;gBACV,OAAO;oBACL;wBAAE,OAAO;wBAAU,OAAO,OAAO,MAAM;oBAAC;oBACxC;wBAAE,OAAO;wBAAa,OAAO,UAAU,MAAM;oBAAC;iBAC/C;;;;;;0BAEH,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,2LAAS;;;;;;;;;;kCAEZ,8OAAC,6MAAe;;;;;;;;;;;;;;;;;AAIxB"}}]
}